"use strict";(self.webpackChunkspms_app=self.webpackChunkspms_app||[]).push([[8968],{2678:function(e,t,n){n.r(t);var r=n(1413),s=n(9439),o=n(7890),a=n(919),i=n(1063),l=n(7145),c=n(4286),u=n(5103),p=n(8218),d=n(7580),m=n(8291),f=n(5854),g=n(2791),h=n(5512),y=n(1811),v=n(184);t.default=function(e){var t=e.empProfile,n=y.it,b=(0,g.useRef)(null),x=(0,g.useRef)(null),N={_id:null,empId:"",designation:"",department:"",workLocation:"",supervisorId:"",joiningDate:"",leavingDate:"",employmentStatus:"",dateOfParmanent:"",grossSalary:""},j={fields:["name","description"],first:0,rows:10,page:1,sortField:null,sortOrder:null,filters:{empId:{operator:o.pg.AND,constraints:[{value:t.empId,matchMode:o.a6.EQUALS}]},designation:{operator:o.pg.AND,constraints:[{value:"",matchMode:o.a6.EQUALS}]},department:{operator:o.pg.AND,constraints:[{value:"",matchMode:o.a6.EQUALS}]},workLocation:{operator:o.pg.AND,constraints:[{value:"",matchMode:o.a6.EQUALS}]},supervisorId:{operator:o.pg.AND,constraints:[{value:"",matchMode:o.a6.EQUALS}]},joiningDate:{operator:o.pg.AND,constraints:[{value:"",matchMode:o.a6.EQUALS}]},leavingDate:{operator:o.pg.AND,constraints:[{value:"",matchMode:o.a6.EQUALS}]},employmentStatus:{operator:o.pg.AND,constraints:[{value:"",matchMode:o.a6.EQUALS}]},dateOfParmanent:{operator:o.pg.AND,constraints:[{value:"",matchMode:o.a6.EQUALS}]},grossSalary:{operator:o.pg.AND,constraints:[{value:"",matchMode:o.a6.EQUALS}]}}},P=(0,g.useState)(!1),S=(0,s.Z)(P,2),w=S[0],E=S[1],k=(0,g.useState)(0),D=(0,s.Z)(k,2),A=D[0],F=D[1],C=(0,g.useState)(null),O=(0,s.Z)(C,2),z=O[0],R=O[1],L=(0,g.useState)(!1),Z=(0,s.Z)(L,2),H=Z[0],M=Z[1],U=(0,g.useState)(!1),I=(0,s.Z)(U,2),K=I[0],_=I[1],Q=(0,g.useState)(!1),T=(0,s.Z)(Q,2),V=T[0],Y=T[1],B=(0,g.useState)(N),J=(0,s.Z)(B,2),q=J[0],W=J[1],X=(0,g.useState)(null),G=(0,s.Z)(X,2),$=G[0],ee=G[1],te=(0,g.useState)(!1),ne=(0,s.Z)(te,2),re=ne[0],se=ne[1],oe=(0,g.useState)(!0),ae=(0,s.Z)(oe,2),ie=ae[0],le=ae[1],ce=(0,g.useState)(j),ue=(0,s.Z)(ce,2),pe=ue[0],de=ue[1],me=new h.E;(0,g.useEffect)((function(){ge()}),[]);var fe=function(){ge()},ge=function(){de(j)};(0,g.useEffect)((function(){he()}),[pe]);var he=function(){E(!0),me.getAll(n,{params:JSON.stringify(pe)}).then((function(e){console.log(e),F(e.total),R(e.rows),E(!1)}))},ye=function(){le(!0),W(N),se(!1),M(!0)},ve=function(){se(!1),M(!1)},be=function(){_(!1)},xe=function(){Y(!1)},Ne=function(){x.current.exportCSV()},je=function(e,t){var n=e.target&&e.target.value||"",s=(0,r.Z)({},q);s["".concat(t)]=n,W(s)},Pe=(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(a.z,{label:"Cancel",icon:"pi pi-times",className:"p-button-text",onClick:ve}),(0,v.jsx)(a.z,{label:"Save",icon:"pi pi-check",className:"p-button-text",onClick:function(){se(!0),q.name.trim()&&(q._id?me.update(n,q._id,q).then((function(e){console.log(e),he(),b.current.show({severity:"success",summary:"Successful",detail:"EmploymentHistory Updated",life:3e3})})):me.create(n,q).then((function(e){console.log(e),he(),b.current.show({severity:"success",summary:"Successful",detail:"EmploymentHistory Created",life:3e3})})),M(!1),W(N))}})]}),Se=(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(a.z,{label:"No",icon:"pi pi-times",className:"p-button-text",onClick:be}),(0,v.jsx)(a.z,{label:"Yes",icon:"pi pi-check",className:"p-button-text",onClick:function(){me.delete(n,q._id).then((function(e){console.log(e),he(),b.current.show({severity:"success",summary:"Successful",detail:"Employee Profile Deleted",life:3e3})})),_(!1),W(N)}})]}),we=(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(a.z,{label:"No",icon:"pi pi-times",className:"p-button-text",onClick:xe}),(0,v.jsx)(a.z,{label:"Yes",icon:"pi pi-check",className:"p-button-text",onClick:function(){var e=z.filter((function(e){return!$.includes(e)}));R(e),Y(!1),ee(null),b.current.show({severity:"success",summary:"Successful",detail:"EmploymentHistorys Deleted",life:3e3})}})]});return(0,v.jsx)("div",{className:"grid crud-demo",children:(0,v.jsx)("div",{className:"col-12",children:(0,v.jsxs)("div",{className:"card",children:[(0,v.jsx)(d.F,{ref:b}),(0,v.jsx)(m.o,{className:"mb-4",left:function(){return(0,v.jsx)(g.Fragment,{children:(0,v.jsx)("div",{className:"flex justify-content-between",children:(0,v.jsx)(a.z,{label:"New",icon:"pi pi-plus",className:"p-button-success mr-2",onClick:ye})})})},right:function(){return(0,v.jsx)(g.Fragment,{children:(0,v.jsx)(a.z,{label:"Export",icon:"pi pi-upload",className:"p-button-help",onClick:Ne})})}}),(0,v.jsxs)(l.w,{ref:x,value:z,dataKey:"_id",className:"datatable-responsive",responsiveLayout:"scroll",lazy:!0,loading:w,rows:pe.rows,onSort:function(e){var t=(0,r.Z)((0,r.Z)({},pe),e);de(t)},sortField:pe.sortField,sortOrder:pe.sortOrder,onFilter:function(e){var t=(0,r.Z)((0,r.Z)({},pe),e);t.first=0,de(t)},filters:pe.filters,filterDisplay:"menu",paginator:!0,totalRecords:A,onPage:function(e){var t=(0,r.Z)((0,r.Z)({},pe),e);de(t)},first:pe.first,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25,50],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} entries",emptyMessage:"No data found.",header:function(){return(0,v.jsxs)("div",{className:"flex justify-content-between",children:[(0,v.jsx)("h5",{className:"m-0",children:"Manage EmploymentHistory"}),(0,v.jsx)(a.z,{type:"button",icon:"pi pi-filter-slash",label:"Clear",className:"p-button-outlined",onClick:fe})]})},children:[(0,v.jsx)(i.s,{body:function(e){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(a.z,{icon:"pi pi-pencil",className:"p-button-rounded p-button-success mr-2",onClick:function(){return function(e){le(!1),W((0,r.Z)({},e)),M(!0)}(e)}}),(0,v.jsx)(a.z,{icon:"pi pi-trash",className:"p-button-rounded p-button-warning",onClick:function(){return function(e){W(e),_(!0)}(e)}})]})},headerStyle:{minWidth:"10rem"}}),(0,v.jsx)(i.s,{field:"name",header:"Name",filter:!0,filterPlaceholder:"Search by name",sortable:!0,body:function(e){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("span",{className:"p-column-title",children:"Name"}),e.name]})},headerStyle:{minWidth:"15rem"}}),(0,v.jsx)(i.s,{field:"description",header:"Description",filter:!0,filterPlaceholder:"Search by description",sortable:!0,body:function(e){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("span",{className:"p-column-title",children:"Description"}),e.description]})},headerStyle:{minWidth:"15rem"}})]}),(0,v.jsxs)(c.V,{visible:H,style:{width:"450px"},header:"".concat(ie?"Create":"Edit"," EmploymentHistory"),modal:!0,className:"p-fluid",footer:Pe,onHide:ve,children:[q.image&&(0,v.jsx)("img",{src:"".concat("~","/demo/images/employmentHistory/").concat(q.image),alt:q.image,width:"150",className:"mt-0 mx-auto mb-5 block shadow-2"}),(0,v.jsxs)("div",{className:"field",children:[(0,v.jsx)("label",{htmlFor:"name",children:"Name*"}),(0,v.jsx)(u.o,{id:"name",value:q.name,onChange:function(e){return je(e,"name")},required:!0,autoFocus:!0,className:(0,f.AK)({"p-invalid":re&&!q.name})}),re&&!q.name&&(0,v.jsx)("small",{className:"p-invalid",children:"Name is required."})]}),(0,v.jsxs)("div",{className:"field",children:[(0,v.jsx)("label",{htmlFor:"description",children:"Description"}),(0,v.jsx)(p.g,{id:"description",value:q.description,onChange:function(e){return je(e,"description")},required:!0,rows:3,cols:20})]})]}),(0,v.jsx)(c.V,{visible:K,style:{width:"450px"},header:"Confirm",modal:!0,footer:Se,onHide:be,children:(0,v.jsxs)("div",{className:"flex align-items-center justify-content-center",children:[(0,v.jsx)("i",{className:"pi pi-exclamation-triangle mr-3",style:{fontSize:"2rem"}}),q&&(0,v.jsxs)("span",{children:["Are you sure you want to delete ",(0,v.jsx)("b",{children:q.empID}),"?"]})]})}),(0,v.jsx)(c.V,{visible:V,style:{width:"450px"},header:"Confirm",modal:!0,footer:we,onHide:xe,children:(0,v.jsxs)("div",{className:"flex align-items-center justify-content-center",children:[(0,v.jsx)("i",{className:"pi pi-exclamation-triangle mr-3",style:{fontSize:"2rem"}}),q&&(0,v.jsx)("span",{children:"Are you sure you want to delete the selected items?"})]})})]})})})}},8218:function(e,t,n){n.d(t,{g:function(){return c}});var r=n(2791),s=n(8820),o=n(3574),a=n(5854);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}var l={defaultProps:{__TYPE:"InputTextarea",autoResize:!1,keyfilter:null,onBlur:null,onFocus:null,onInput:null,onKeyDown:null,onKeyUp:null,onPaste:null,tooltip:null,tooltipOptions:null,validateOnly:!1,children:void 0},getProps:function(e){return a.gb.getMergedProps(e,l.defaultProps)},getOtherProps:function(e){return a.gb.getDiffProps(e,l.defaultProps)}},c=r.memo(r.forwardRef((function(e,t){var n=l.getProps(e),c=r.useRef(t),u=r.useRef(0),p=function(e){var t=c.current;t&&a.p7.isVisible(t)&&(u.current||(u.current=t.scrollHeight,t.style.overflow="hidden"),(u.current!==t.scrollHeight||e)&&(t.style.height="",t.style.height=t.scrollHeight+"px",parseFloat(t.style.height)>=parseFloat(t.style.maxHeight)?(t.style.overflowY="scroll",t.style.height=t.style.maxHeight):t.style.overflow="hidden",u.current=t.scrollHeight))},d=c.current&&c.current.value,m=r.useMemo((function(){return a.gb.isNotEmpty(n.value)||a.gb.isNotEmpty(n.defaultValue)||a.gb.isNotEmpty(d)}),[n.value,n.defaultValue,d]);r.useEffect((function(){a.gb.combinedRefs(c,t)}),[c,t]),r.useEffect((function(){n.autoResize&&p(!0)}),[n.autoResize]);var f=a.gb.isNotEmpty(n.tooltip),g=l.getOtherProps(n),h=(0,a.AK)("p-inputtextarea p-inputtext p-component",{"p-disabled":n.disabled,"p-filled":m,"p-inputtextarea-resizable":n.autoResize},n.className);return r.createElement(r.Fragment,null,r.createElement("textarea",i({ref:c},g,{className:h,onFocus:function(e){n.autoResize&&p(),n.onFocus&&n.onFocus(e)},onBlur:function(e){n.autoResize&&p(),n.onBlur&&n.onBlur(e)},onKeyUp:function(e){n.autoResize&&p(),n.onKeyUp&&n.onKeyUp(e)},onKeyDown:function(e){n.onKeyDown&&n.onKeyDown(e),n.keyfilter&&s.F.onKeyPress(e,n.keyfilter,n.validateOnly)},onInput:function(e){n.autoResize&&p(),n.onInput&&n.onInput(e);var t=e.target;a.gb.isNotEmpty(t.value)?a.p7.addClass(t,"p-filled"):a.p7.removeClass(t,"p-filled")},onPaste:function(e){n.onPaste&&n.onPaste(e),n.keyfilter&&s.F.onPaste(e,n.keyfilter,n.validateOnly)}})),f&&r.createElement(o.u,i({target:c,content:n.tooltip},n.tooltipOptions)))})));c.displayName="InputTextarea"},8291:function(e,t,n){n.d(t,{o:function(){return i}});var r=n(2791),s=n(5854);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}var a={defaultProps:{__TYPE:"Toolbar",id:null,style:null,className:null,left:null,right:null,start:null,center:null,end:null,children:void 0},getProps:function(e){return s.gb.getMergedProps(e,a.defaultProps)},getOtherProps:function(e){return s.gb.getDiffProps(e,a.defaultProps)}},i=r.memo(r.forwardRef((function(e,t){var n=a.getProps(e),i=r.useRef(null),l=a.getOtherProps(n),c=(0,s.AK)("p-toolbar p-component",n.className),u=s.gb.getJSXElement(n.left||n.start,n),p=s.gb.getJSXElement(n.center,n),d=s.gb.getJSXElement(n.right||n.end,n);return r.useImperativeHandle(t,(function(){return{props:n,getElement:function(){return i.current}}})),r.createElement("div",o({id:n.id,ref:i,className:c,style:n.style,role:"toolbar"},l),r.createElement("div",{className:"p-toolbar-group-start p-toolbar-group-left"},u),r.createElement("div",{className:"p-toolbar-group-center"},p),r.createElement("div",{className:"p-toolbar-group-end p-toolbar-group-right"},d))})));i.displayName="Toolbar"}}]);
//# sourceMappingURL=employmentHistory.38925173.chunk.js.map