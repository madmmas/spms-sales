"use strict";(self.webpackChunkspms_app=self.webpackChunkspms_app||[]).push([[3307],{3384:function(e,n,r){r.d(n,{Ey:function(){return u},F0:function(){return o},G4:function(){return l},LS:function(){return t},MX:function(){return i},bq:function(){return s},gX:function(){return a},ox:function(){return y},rA:function(){return p},v6:function(){return f},wA:function(){return d},wU:function(){return c},wo:function(){return h},y7:function(){return m}});var t=[{id:"BANK",name:"BANK"},{id:"CASH",name:"CASH"}],a=[{id:"A+",name:"A+"},{id:"A-",name:"A-"},{id:"B+",name:"B+"},{id:"B-",name:"B-"},{id:"AB+",name:"AB+"},{id:"AB-",name:"AB-"},{id:"O+",name:"O+"},{id:"O-",name:"O-"}],i=[{id:"Dhaka",name:"Dhaka"},{id:"Rajshahi",name:"Rajshahi"},{id:"Chitagong",name:"Chitagong"},{id:"Sylhet",name:"Sylhet"},{id:"Khulna",name:"Khulna"}],d=[{id:"BDT",name:"BDT"},{id:"INR",name:"INR"},{id:"USD",name:"USD"},{id:"EUR",name:"EUR"},{id:"GBP",name:"GBP"},{id:"AUD",name:"AUD"},{id:"CAD",name:"CAD"}],o=[{id:"CASH",name:"Cash"},{id:"MFS",name:"MFS"},{id:"BANK",name:"Bank Deposit"}],l=[{id:"CASH",name:"Cash"},{id:"MFS",name:"MFS"},{id:"BANK",name:"Bank Deposit"}],u=[{id:"WALKIN",name:"Walk-in"},{id:"REGISTERED",name:"Registered"},{id:"CONDITIONAL",name:"Conditional"}],s=[{id:"ADD",name:"Addition"},{id:"REDUCE",name:"Reduction"}],c=[{id:"DHAKA",name:"DHAKA"},{id:"CUMILLA",name:"CUMILLA"},{id:"KHULNA",name:"KHULNA"}],m=[{id:"MALE",name:"Male"},{id:"FEMALE",name:"Female"}],f=[{id:"PART-TIMER",name:"Part-Timer"},{id:"CONTRACTUAL",name:"Contractual"},{id:"PERMANENT",name:"Permanent"}],h=[{id:"MARRIED",name:"Married"},{id:"DIVORCED",name:"Divorced"},{id:"SEPARATED",name:"Separated"},{id:"WIDOWED",name:"Widowed"},{id:"NEVERMARRIED",name:"Never Married"}],p=[{id:"PCS",name:"PCS"},{id:"DZN",name:"DZN"},{id:"PKT",name:"PKT"},{id:"SET",name:"SET"}],y=[{id:"MUSLIM",name:"Muslim"},{id:"HINDU",name:"Hindu"},{id:"CHRISTIAN",name:"Christian"},{id:"BUDDHA",name:"Buddha"},{id:"OTHER",name:"Other"}]},1811:function(e,n,r){r.d(n,{CN:function(){return A},CZ:function(){return d},D:function(){return k},Eh:function(){return L},GB:function(){return F},H0:function(){return I},Hh:function(){return p},Hn:function(){return C},Id:function(){return g},Ik:function(){return b},K$:function(){return N},LM:function(){return i},MU:function(){return t},Ni:function(){return m},Q4:function(){return T},R$:function(){return f},UR:function(){return S},VB:function(){return h},VC:function(){return o},W9:function(){return B},aF:function(){return y},eQ:function(){return D},ev:function(){return x},fs:function(){return P},if:function(){return R},it:function(){return l},kj:function(){return s},q$:function(){return a},qI:function(){return v},s5:function(){return j},sf:function(){return u},sk:function(){return M},uG:function(){return w},vN:function(){return E},vY:function(){return c}});var t="dtBank",a="dtBankAccount",i="dtCash",d="dtCustomer",o="dtEmployee",l="dtEmploymentHistory",u="dtProduct",s="dtSupplier",c="dtWarehouse",m="dtStock",f="trxDamagedStock",h="trxStockAdjustment",p="trxExpense",y="trxExtraIncome",x="trxPurchase",g="trxSales",S="trxStockIn",j="trxStockOut",N="trxACRecievable",A="trxACPayable",v="trxBankRegister",b="trxCashRegister",C="trxPayment",P="dtCustomerCategory",R="dtDepartment",D="dtDesignation",T="dtExpenseType",E="dtExtraIncomeType",F="dtGrade",k="dtGroup",B="dtOfficeTime",M="dtPaymentType",w="dtProductCategory",I="dtRoute",L="dtSupplierCategory"},1427:function(e,n,r){r.d(n,{Z:function(){return i}});r(2791);var t=r(3014),a=r(184);function i(e){var n=e.field,r=e.className,i=e.data,d=e.onSelectChange,o=e.placeholder,l=void 0===o?"":o;return(0,a.jsx)(t.L,{value:n.value,onChange:function(e){return function(e){n.onChange(e.value),console.log(e.value),d(e.value)}(e)},options:i,optionValue:"id",optionLabel:"name",placeholder:l,className:r})}},5880:function(e,n,r){r.r(n);var t=r(1413),a=r(9439),i=r(2426),d=r(2791),o=r(9195),l=r(7890),u=r(919),s=r(5854),c=r(1063),m=r(4286),f=r(7145),h=r(8218),p=r(989),y=r(7580),x=r(8291),g=r(1427),S=r(7193),j=r(9565),N=r(1811),A=r(9615),v=r(3384),b=r(184);n.default=function(){var e=N.VB,n={date:Date.now(),adjustmentType:"",dtProduct_id:null,quantity:0,reason:""},r=(0,d.useRef)(null),C=(0,d.useRef)(null),P=(0,d.useRef)(null),R=(0,d.useRef)(null),D={fields:[],first:0,rows:10,page:1,sortField:null,sortOrder:null,filters:{name:{operator:l.pg.OR,constraints:[{value:null,matchMode:l.a6.STARTS_WITH}]}}},T=(0,d.useState)(!1),E=(0,a.Z)(T,2),F=E[0],k=E[1],B=(0,d.useState)(0),M=(0,a.Z)(B,2),w=M[0],I=M[1],L=(0,d.useState)(null),K=(0,a.Z)(L,2),O=K[0],U=K[1],q=(0,d.useState)(D),H=(0,a.Z)(q,2),Z=H[0],W=H[1],_=(0,d.useState)(!1),V=(0,a.Z)(_,2),G=V[0],Q=V[1],z=(0,d.useState)(!1),Y=(0,a.Z)(z,2),$=Y[0],X=Y[1],J=new j.p,ee=(0,o.cI)({defaultValues:n}),ne=(ee.register,ee.control),re=ee.formState.errors,te=ee.resetField,ae=ee.handleSubmit;(0,d.useEffect)((function(){de()}),[]);var ie=function(){de()},de=function(){W(D)};(0,d.useEffect)((function(){oe()}),[Z]);var oe=function(){k(!0),J.getAll(e,{params:JSON.stringify(Z)}).then((function(e){console.log(e),I(e.total),U(e.rows),k(!1)}))},le=function(){C.current.exportCSV()},ue=function(e){console.log("PRODUCT SELECTED::",e),P.current.focus()},se=function(){te("dtProduct_id"),te("quantity"),te("reason"),X(!1)},ce=function(e){return re[e]&&(0,b.jsx)("small",{className:"p-error",children:re[e].message})},me=function(){Q(!1)},fe=(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(u.z,{label:"Cancel",icon:"pi pi-times",className:"p-button-text",onClick:me}),(0,b.jsx)(u.z,{disabled:$,label:"Save",icon:"pi pi-check",className:"p-button-text",onClick:ae((function(e){return function(e){if(X(!0),!(P.current.value<1)){var n={adjustmentType:e.adjustmentType,dtProduct_id:e.dtProduct_id,quantity:e.quantity,reason:e.reason};console.log(n),J.processTransaction(A.UM,n).then((function(e){console.log(e),e.success?(r.current.show({severity:"success",summary:"Successful",detail:"Damaged Stock Added",life:3e3}),se(),Q(!1),oe()):r.current.show({severity:"error",summary:"Error",detail:e.message,life:3e3})}))}}(e)}))})]});return(0,b.jsx)("div",{className:"grid crud-demo",children:(0,b.jsx)("div",{className:"col-12",children:(0,b.jsxs)("div",{className:"card",children:[(0,b.jsx)(y.F,{ref:r}),(0,b.jsx)(x.o,{className:"mb-4",left:function(){return(0,b.jsx)(d.Fragment,{children:(0,b.jsx)(u.z,{onClick:function(){return se(),void Q(!0)},className:"p-button p-button-primary mr-2",label:"Add Damaged Stock"})})},right:function(){return(0,b.jsx)(d.Fragment,{children:(0,b.jsx)(u.z,{label:"Export",icon:"pi pi-upload",className:"p-button-help",onClick:le})})}}),(0,b.jsxs)(f.w,{ref:C,value:O,dataKey:"_id",className:"datatable-responsive",responsiveLayout:"scroll",lazy:!0,loading:F,rows:Z.rows,onSort:function(e){var n=(0,t.Z)((0,t.Z)({},Z),e);W(n)},sortField:Z.sortField,sortOrder:Z.sortOrder,onFilter:function(e){var n=(0,t.Z)((0,t.Z)({},Z),e);n.first=0,W(n)},filters:Z.filters,filterDisplay:"menu",scrollable:!0,columnResizeMode:"expand",resizableColumns:!0,showGridlines:!0,paginator:!0,totalRecords:w,onPage:function(e){var n=(0,t.Z)((0,t.Z)({},Z),e);W(n)},first:Z.first,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25,50],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} entries",emptyMessage:"No data found.",header:function(){return(0,b.jsxs)("div",{className:"flex justify-content-between",children:[(0,b.jsx)("h5",{className:"m-0",children:"Damaged Stock"}),(0,b.jsx)(u.z,{type:"button",icon:"pi pi-filter-slash",label:"Refresh",className:"p-button-outlined",onClick:ie})]})},children:[(0,b.jsx)(c.s,{field:"date",header:"Transaction Datetime",filter:!0,filterPlaceholder:"Search by name",sortable:!0,body:function(e){return(0,b.jsx)(b.Fragment,{children:(n=e.date,i(parseInt(n)).format("DD/MM/YYYY hh:mm:ss"))});var n},headerStyle:{minWidth:"15rem"}}),(0,b.jsx)(c.s,{field:"adjustmentType",header:"Adjustment Type",filter:!0,filterPlaceholder:"Search by name",sortable:!0,body:function(e){return(0,b.jsx)(b.Fragment,{children:e.adjustmentType})},headerStyle:{minWidth:"15rem"}}),(0,b.jsx)(c.s,{field:"dtProduct_id",header:"Product Name",filter:!0,filterPlaceholder:"Search by name",sortable:!0,body:function(e){return(0,b.jsx)(b.Fragment,{children:e.name})},headerStyle:{minWidth:"15rem"}}),(0,b.jsx)(c.s,{field:"quantity",header:"Quantity",filter:!0,filterPlaceholder:"Search by name",sortable:!0,body:function(e){return(0,b.jsx)(b.Fragment,{children:e.quantity})},headerStyle:{minWidth:"15rem"}}),(0,b.jsx)(c.s,{field:"reason",header:"Reason",filter:!0,filterPlaceholder:"Search by name",sortable:!0,body:function(e){return(0,b.jsx)(b.Fragment,{children:e.reason})},headerStyle:{minWidth:"15rem"}}),(0,b.jsx)(c.s,{field:"transferBy",header:"Transfer by",filter:!0,filterPlaceholder:"Search by name",sortable:!0,body:function(e){return(0,b.jsx)(b.Fragment,{children:e.transferBy})},headerStyle:{minWidth:"15rem"}})]}),(0,b.jsx)(m.V,{visible:G,style:{width:"450px"},header:"Add Damaged Stock",modal:!0,className:"p-fluid",footer:fe,onHide:me,children:(0,b.jsxs)("div",{className:"p-fluid formgrid grid",children:[(0,b.jsx)("div",{className:"field col-12 md:col-6",children:(0,b.jsx)(o.Qr,{name:"adjustmentType",control:ne,rules:{required:"Adjustment Type is required."},render:function(e){var n=e.field,r=e.fieldState;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("label",{htmlFor:n.name,className:(0,s.AK)({"p-error":re.value}),children:"Adjustment Type*"}),(0,b.jsx)(g.Z,{field:n,data:v.bq,className:(0,s.AK)({"p-invalid":r.error})}),ce(n.name)]})}})}),(0,b.jsx)("div",{className:"field col-12 md:col-6",children:(0,b.jsx)(o.Qr,{name:"dtProduct_id",control:ne,rules:{required:"Product is required."},render:function(e){var n=e.field,r=e.fieldState;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("label",{htmlFor:n.name,className:(0,s.AK)({"p-error":re.value}),children:"Product*"}),(0,b.jsx)(S.Z,{field:n,modelName:N.sf,displayField:"name",className:(0,s.AK)({"p-invalid":r.error}),onSelect:ue,defaultFilters:D,columns:[{field:"name",header:"Product Name",filterPlaceholder:"Filter by Product Name",width:"50rem"},{field:"brandName",header:"Brand Name",filterPlaceholder:"Filter by Barnd Name",width:"15rem"},{field:"modelNo",header:"Model No",filterPlaceholder:"Filter by Model No",width:"15rem"},{field:"partNumber",header:"Part Number",filterPlaceholder:"Filter by Part Number",width:"15rem"},{field:"dtProductCategory_id_shortname",header:"Product Category",filterPlaceholder:"Filter by Product Category",width:"15rem"}]}),ce(n.name)]})}})}),(0,b.jsx)("div",{className:"field col-12 md:col-6",children:(0,b.jsx)(o.Qr,{name:"quantity",control:ne,rules:{validate:function(e){return e>0||"Quantity greater than 0 is required"}},render:function(e){var n=e.field,r=e.fieldState;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("label",{htmlFor:"quantity",children:"Quantity*"}),(0,b.jsx)(p.R,{ref:P,inputId:n.name,value:n.value,inputRef:n.ref,onValueChange:function(e){return n.onChange(e)},className:(0,s.AK)({"p-invalid":r.error})}),ce(n.name)]})}})}),(0,b.jsx)("div",{className:"field col-12 md:col-12",children:(0,b.jsx)(o.Qr,{name:"reason",control:ne,rules:{required:"Reason is required."},render:function(e){var n=e.field,r=e.fieldState;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("label",{htmlFor:"reason",children:"Reason*"}),(0,b.jsx)(h.g,{ref:R,inputId:n.name,value:n.value,inputRef:n.ref,keyfilter:"text",className:(0,s.AK)({"p-invalid":r.error}),onChange:function(e){return n.onChange(e.target.value)},rows:3,cols:20}),ce(n.name)]})}})})]})})]})})})}}}]);
//# sourceMappingURL=stockAdjustment.e2ebe5f8.chunk.js.map