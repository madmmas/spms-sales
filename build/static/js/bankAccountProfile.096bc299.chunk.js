"use strict";(self.webpackChunkspms_app=self.webpackChunkspms_app||[]).push([[7848],{4309:function(e,n,r){r.d(n,{Z:function(){return o}});var t=r(9439),a=r(2791),c=r(3014),l=r(1412),u=r(184);function o(e){var n=e.field,r=e.className,o=e.model,i=e.onChangeItem,s=e.placeholder,d=void 0===s?"":s,f=(0,a.useState)([]),m=(0,t.Z)(f,2),p=m[0],h=m[1],v=new l.e;(0,a.useEffect)((function(){v.getAllWithoutParams(o).then((function(e){h(e)}))}),[]);var b=function(e){n.onChange(e.value),b&&i(e.value)};return(0,u.jsx)(c.L,{value:n.value,onChange:function(e){return b(e)},filter:!0,options:p,optionValue:"_id",optionLabel:"name",placeholder:d,className:r})}},5157:function(e,n,r){r.r(n);var t=r(9439),a=r(2791),c=r(7689),l=r(9195),u=r(5103),o=r(5533),i=r(715),s=r(919),d=r(7580),f=r(5854),m=r(5550),p=r(8218),h=r(4309),v=r(5512),b=r(1811),g=r(184);n.default=function(e){var n=e.bankAccountProfile,r=b.q$,y=(0,c.s0)(),j=(0,a.useRef)(null),x=new v.E,N=(0,a.useState)(null!=n),k=(0,t.Z)(N,2),w=k[0],A=(k[1],(0,a.useState)(!1)),S=(0,t.Z)(A,2),C=S[0],I=S[1],Z=(0,l.cI)({defaultValues:n}),O=(Z.register,Z.control),F=Z.formState.errors,P=Z.setValue,R=(Z.resetField,Z.handleSubmit),B=function(e){return F[e]&&(0,g.jsx)("small",{className:"p-error",children:F[e].message})};return(0,g.jsxs)("div",{className:"form-demo",children:[(0,g.jsx)(d.F,{ref:j}),(0,g.jsxs)("div",{className:"card col-12",children:[null==n&&(0,g.jsx)(s.z,{onClick:function(){y("/bank_accounts")},className:"p-button-outlined",label:"Go Back to List"}),(0,g.jsxs)("h5",{children:[null==n?"New":"Edit"," Bank Account"]}),(0,g.jsxs)("form",{onSubmit:R((function(e){try{I(!0),w?x.update(r,e._id,e).then((function(e){j.current.show({severity:"success",summary:"Successful",detail:"Bank Account Updated",life:3e3}),I(!1),y("/bank_accounts")})):(e.balance=e.initBalance,x.create(r,e).then((function(e){j.current.show({severity:"success",summary:"Successful",detail:"Bank Account Created",life:3e3}),y("/bank_accounts")})))}catch(n){console.log(n),j.current.show({severity:"success",summary:"Successful",detail:"Action Performed",life:3e3}),y("/bank_accounts")}})),children:[(0,g.jsxs)("div",{className:"p-fluid formgrid grid",children:[(0,g.jsx)("div",{className:"field col-12 md:col-6",children:(0,g.jsx)(l.Qr,{name:"dtBank_id",control:O,rules:{required:"Bank Account is required."},render:function(e){var n=e.field,r=e.fieldState;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("label",{htmlFor:n.name,className:(0,f.AK)({"p-error":F.value}),children:"Bank Name*"}),(0,g.jsx)(h.Z,{field:n,model:b.MU,className:(0,f.AK)({"p-invalid":r.error})}),B(n.name)]})}})}),(0,g.jsx)("div",{className:"field col-12 md:col-6",children:(0,g.jsx)(l.Qr,{name:"branch",control:O,rules:{required:"Branch Name is required."},render:function(e){var n=e.field,r=e.fieldState;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("label",{htmlFor:n.name,className:(0,f.AK)({"p-error":F.value}),children:"Branch Name*"}),(0,g.jsx)(u.o,{keyfilter:/^[^<>*!]+$/,inputId:n.name,value:n.value,inputRef:n.ref,className:(0,f.AK)({"p-invalid":r.error}),onChange:function(e){return n.onChange(e.target.value)}}),B(n.name)]})}})}),(0,g.jsx)("div",{className:"field col-12 md:col-6",children:(0,g.jsx)(l.Qr,{name:"accNumber",control:O,rules:{required:"Account Number is required."},render:function(e){var n=e.field,r=e.fieldState;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("label",{htmlFor:n.name,className:(0,f.AK)({"p-error":F.value}),children:"Account Number*"}),(0,g.jsx)(u.o,{disabled:w,keyfilter:"int",inputId:n.name,value:n.value,inputRef:n.ref,className:(0,f.AK)({"p-invalid":r.error}),onChange:function(e){return n.onChange(e.target.value)}}),(0,g.jsx)("small",{id:"accNumber-help",children:"Enter numeric value only."}),B(n.name)]})}})}),(0,g.jsx)("div",{className:"field col-12 md:col-6",children:(0,g.jsx)(l.Qr,{name:"accName",control:O,rules:{required:"Account Name is required."},render:function(e){var n=e.field,r=e.fieldState;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("label",{htmlFor:n.name,className:(0,f.AK)({"p-error":F.value}),children:"Account Name*"}),(0,g.jsx)(u.o,{inputId:n.name,value:n.value,inputRef:n.ref,className:(0,f.AK)({"p-invalid":r.error}),onChange:function(e){return n.onChange(e.target.value)}}),B(n.name)]})}})}),(0,g.jsx)("div",{className:"field col-12 md:col-6",children:(0,g.jsx)(l.Qr,{name:"initBalance",control:O,rules:{validate:function(e){return null!==e||"Initial Balance is required."}},render:function(e){var n=e.field,r=e.fieldState;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("label",{htmlFor:n.name,className:(0,f.AK)({"p-error":F.value}),children:"Initial Balance*"}),(0,g.jsx)(o.R,{disabled:w,inputId:n.name,value:n.value,inputRef:n.ref,className:(0,f.AK)({"p-invalid":r.error}),onValueChange:function(e){P("balance",e.value),n.onChange(e)},minFractionDigits:2,mode:"currency",currency:"BDT",currencyDisplay:"code",locale:"en-IN"}),B(n.name)]})}})}),(0,g.jsx)("div",{className:"field col-12 md:col-6",children:(0,g.jsx)(l.Qr,{name:"balance",control:O,render:function(e){var n=e.field,r=e.fieldState;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("label",{htmlFor:n.name,className:(0,f.AK)({"p-error":F.value}),children:"Current Balance*"}),(0,g.jsx)(o.R,{disabled:!0,inputId:n.name,value:n.value,inputRef:n.ref,className:(0,f.AK)({"p-invalid":r.error}),onValueChange:function(e){return n.onChange(e)},minFractionDigits:2,mode:"currency",currency:"BDT",currencyDisplay:"code",locale:"en-IN"}),B(n.name)]})}})}),(0,g.jsx)("div",{className:"field col-12 md:col-6",children:(0,g.jsx)(l.Qr,{name:"phone",control:O,render:function(e){var n=e.field,r=e.fieldState;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("label",{htmlFor:n.name,className:(0,f.AK)({"p-error":F.value}),children:"Phone"}),(0,g.jsx)(i.v,{inputId:n.name,value:n.value,inputRef:n.ref,className:(0,f.AK)({"p-invalid":r.error}),placeholder:"+880 1234 567890",onChange:function(e){return n.onChange(e.target.value)},mask:"+880 9999 999999"}),B(n.name)]})}})}),(0,g.jsx)("div",{className:"field col-12 md:col-6",children:(0,g.jsx)(l.Qr,{name:"address",control:O,render:function(e){var n=e.field,r=e.fieldState;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("label",{htmlFor:n.name,className:(0,f.AK)({"p-error":F.value}),children:"Bank Account Address"}),(0,g.jsx)(p.g,{inputId:n.name,value:n.value,inputRef:n.ref,className:(0,f.AK)({"p-invalid":r.error}),onChange:function(e){return n.onChange(e.target.value)}}),B(n.name)]})}})}),(0,g.jsx)("div",{className:"field col-12 md:col-6",children:(0,g.jsx)(l.Qr,{name:"note",control:O,render:function(e){var n=e.field,r=e.fieldState;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("label",{htmlFor:n.name,className:(0,f.AK)({"p-error":F.value}),children:"Note"}),(0,g.jsx)(p.g,{inputId:n.name,value:n.value,inputRef:n.ref,className:(0,f.AK)({"p-invalid":r.error}),onChange:function(e){return n.onChange(e.target.value)}}),B(n.name)]})}})}),(0,g.jsxs)("div",{className:"field col-12 md:col-6 mt-2",children:[(0,g.jsx)("div",{className:"field",children:"Status"}),(0,g.jsx)(l.Qr,{name:"status",control:O,render:function(e){var n=e.field,r=e.fieldState;return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(m.Q,{inputId:n.name,checked:n.value,inputRef:n.ref,className:(0,f.AK)({"p-invalid":r.error}),onChange:function(e){return n.onChange(e.value)}})})}})]})]}),(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(s.z,{type:"submit",label:"Submit",className:"mt-2",disabled:C})})]})]})]})}},1412:function(e,n,r){r.d(n,{e:function(){return o}});var t=r(4165),a=r(5861),c=r(5671),l=r(3144),u=r(8293),o=function(){function e(){(0,c.Z)(this,e)}return(0,l.Z)(e,[{key:"getNextId",value:function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.ZP.get("/nextid/".concat(n),{cache:!1});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},{key:"getById",value:function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n,r){var a,c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="/data/".concat(n,"/")+r,e.next=3,u.ZP.get(a,{timeout:15e3,id:a,cache:{ttl:2e4}});case 3:return c=e.sent,console.log(c.data),e.abrupt("return",c.data);case 6:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n,r){var a,c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r?Object.keys(r).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(r[e])})).join("&"):"",c="/data/".concat(n,"?")+a,e.abrupt("return",u.ZP.get(c,{timeout:15e3,id:c,cache:{ttl:2e4}}).then((function(e){return e.data})));case 3:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}()},{key:"getAllWithoutParams",value:function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var r,a,c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={params:JSON.stringify({rows:1e3})},a=r?Object.keys(r).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(r[e])})).join("&"):"",c="/data/".concat(n,"?")+a,e.abrupt("return",u.ZP.get(c,{timeout:15e3,id:c,cache:{ttl:2e4}}).then((function(e){return e.data.rows})));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n,r){var a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.ZP.post("/data/".concat(n),r);case 2:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n,r,a){var c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.ZP.put("/data/".concat(n,"/")+r,a);case 2:return c=e.sent,console.log(c.data),e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(n,r,t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n,r){var a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.ZP.delete("/data/".concat(n,"/")+r);case 2:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}()}]),e}()},5550:function(e,n,r){r.d(n,{Q:function(){return b}});var t=r(2791),a=r(2062),c=r(3574),l=r(5854),u=r(5388),o=r(7890);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},i.apply(this,arguments)}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function d(e){var n=function(e,n){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,n||"default");if("object"!==s(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===s(n)?n:String(n)}function f(e,n,r){return(n=d(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function m(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function p(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,a,c,l,u=[],o=!0,i=!1;try{if(c=(r=r.call(e)).next,0===n){if(Object(r)!==r)return;o=!1}else for(;!(o=(t=c.call(r)).done)&&(u.push(t.value),u.length!==n);o=!0);}catch(s){i=!0,a=s}finally{try{if(!o&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(i)throw a}}return u}}(e,n)||function(e,n){if(e){if("string"===typeof e)return m(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var h=u.V.extend({defaultProps:{__TYPE:"InputSwitch",autoFocus:!1,checked:!1,className:null,disabled:!1,falseValue:!1,id:null,inputId:null,inputRef:null,name:null,onBlur:null,onChange:null,onFocus:null,style:null,tabIndex:null,tooltip:null,tooltipOptions:null,trueValue:!0,children:void 0}});function v(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}var b=t.memo(t.forwardRef((function(e,n){var r=t.useContext(o.Ou),u=h.getProps(e,r),s=p(t.useState(!1),2),d=s[0],m=s[1],b=h.setMetaData({props:u,state:{focused:d}}).ptm,g=t.useRef(null),y=t.useRef(u.inputRef),j=u.checked===u.trueValue,x=function(e){if(u.onChange){var n=j?u.falseValue:u.trueValue;u.onChange({originalEvent:e,value:n,stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},target:{name:u.name,id:u.id,value:n}})}};t.useImperativeHandle(n,(function(){return{props:u,focus:function(){return l.p7.focus(y.current)},getElement:function(){return g.current},getInput:function(){return y.current}}})),t.useEffect((function(){l.gb.combinedRefs(y,u.inputRef)}),[y,u.inputRef]),(0,a.nw)((function(){u.autoFocus&&l.p7.focus(y.current,u.autoFocus)}));var N=l.gb.isNotEmpty(u.tooltip),k=h.getOtherProps(u),w=l.gb.reduceKeys(k,l.p7.ARIA_PROPS),A=(0,l.AK)("p-inputswitch p-component",{"p-inputswitch-checked":j,"p-disabled":u.disabled,"p-focus":d},u.className),S=(0,l.dG)({id:u.id,ref:g,className:A,style:u.style,onClick:function(e){u.disabled||(x(e),l.p7.focus(y.current),e.preventDefault())},role:"checkbox","aria-checked":j},b("root")),C=(0,l.dG)({className:"p-hidden-accessible"},b("hiddenInputWrapper")),I=(0,l.dG)(function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?v(Object(r),!0).forEach((function(n){f(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}({ref:y,type:"checkbox",id:u.inputId,name:u.name,checked:j,onChange:x,onFocus:function(e){m(!0),u.onFocus&&u.onFocus(e)},onBlur:function(e){m(!1),u.onBlur&&u.onBlur(e)},disabled:u.disabled,role:"switch",tabIndex:u.tabIndex,"aria-checked":j},w),b("hiddenInput")),Z=(0,l.dG)({className:"p-inputswitch-slider"},b("slider"));return t.createElement(t.Fragment,null,t.createElement("div",S,t.createElement("div",C,t.createElement("input",I)),t.createElement("span",Z)),N&&t.createElement(c.u,i({target:g,content:u.tooltip},u.tooltipOptions,{pt:b("tooltip")})))})));b.displayName="InputSwitch"}}]);
//# sourceMappingURL=bankAccountProfile.096bc299.chunk.js.map