"use strict";(self.webpackChunkspms_app=self.webpackChunkspms_app||[]).push([[7848],{4309:function(e,n,r){r.d(n,{Z:function(){return i}});var t=r(9439),a=r(2791),l=r(3014),c=r(1412),u=r(184);function i(e){var n=e.field,r=e.className,i=e.model,o=e.placeholder,s=void 0===o?"":o,d=(0,a.useState)([]),f=(0,t.Z)(d,2),m=f[0],p=f[1],h=new c.e;(0,a.useEffect)((function(){h.getAllWithoutParams(i).then((function(e){p(e),e.length>0&&n.onChange(e[0]._id)}))}),[]);return(0,u.jsx)(l.L,{value:n.value,onChange:function(e){return function(e){n.onChange(e.value)}(e)},options:m,optionValue:"_id",optionLabel:"name",placeholder:s,className:r})}},5157:function(e,n,r){r.r(n);var t=r(9439),a=r(2791),l=r(7689),c=r(9195),u=r(5103),i=r(989),o=r(715),s=r(919),d=r(7580),f=r(5854),m=r(5550),p=r(8218),h=r(4309),v=r(5512),g=r(1811),x=r(184);n.default=function(e){var n=e.bankAccountProfile,r=g.q$,b=(0,l.s0)(),j=(0,a.useRef)(null),y=new v.E,N=(0,a.useState)(null!=n),k=(0,t.Z)(N,2),A=k[0],w=(k[1],(0,a.useState)(!1)),C=(0,t.Z)(w,2),Z=C[0],I=C[1],S=(0,c.cI)({defaultValues:n}),F=(S.register,S.control),P=S.formState.errors,R=S.setValue,B=(S.resetField,S.handleSubmit),K=function(e){return P[e]&&(0,x.jsx)("small",{className:"p-error",children:P[e].message})};return(0,x.jsxs)("div",{className:"form-demo",children:[(0,x.jsx)(d.F,{ref:j}),(0,x.jsxs)("div",{className:"card col-12",children:[null==n&&(0,x.jsx)(s.z,{onClick:function(){b("/bank_accounts")},className:"p-button-outlined",label:"Go Back to List"}),(0,x.jsxs)("h5",{children:[null==n?"New":"Edit"," Bank Account"]}),(0,x.jsxs)("form",{onSubmit:B((function(e){try{I(!0),A?y.update(r,e._id,e).then((function(e){j.current.show({severity:"success",summary:"Successful",detail:"Bank Account Updated",life:3e3}),I(!1),b("/bank_accounts")})):(e.balance=e.initBalance,y.create(r,e).then((function(e){j.current.show({severity:"success",summary:"Successful",detail:"Bank Account Created",life:3e3}),b("/bank_accounts")})))}catch(n){console.log(n),j.current.show({severity:"success",summary:"Successful",detail:"Action Performed",life:3e3}),b("/bank_accounts")}})),children:[(0,x.jsxs)("div",{className:"p-fluid formgrid grid",children:[(0,x.jsx)("div",{className:"field col-12 md:col-6",children:(0,x.jsx)(c.Qr,{name:"dtBank_id",control:F,rules:{required:"Bank Account is required."},render:function(e){var n=e.field,r=e.fieldState;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("label",{htmlFor:n.name,className:(0,f.AK)({"p-error":P.value}),children:"Bank Name*"}),(0,x.jsx)(h.Z,{field:n,model:g.MU,className:(0,f.AK)({"p-invalid":r.error})}),K(n.name)]})}})}),(0,x.jsx)("div",{className:"field col-12 md:col-6",children:(0,x.jsx)(c.Qr,{name:"branch",control:F,rules:{required:"Branch Name is required."},render:function(e){var n=e.field,r=e.fieldState;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("label",{htmlFor:n.name,className:(0,f.AK)({"p-error":P.value}),children:"Branch Name*"}),(0,x.jsx)(u.o,{keyfilter:/^[^<>*!]+$/,inputId:n.name,value:n.value,inputRef:n.ref,className:(0,f.AK)({"p-invalid":r.error}),onChange:function(e){return n.onChange(e.target.value)}}),K(n.name)]})}})}),(0,x.jsx)("div",{className:"field col-12 md:col-6",children:(0,x.jsx)(c.Qr,{name:"accNumber",control:F,rules:{required:"Account Number is required."},render:function(e){var n=e.field,r=e.fieldState;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("label",{htmlFor:n.name,className:(0,f.AK)({"p-error":P.value}),children:"Account Number*"}),(0,x.jsx)(u.o,{disabled:A,keyfilter:"int",inputId:n.name,value:n.value,inputRef:n.ref,className:(0,f.AK)({"p-invalid":r.error}),onChange:function(e){return n.onChange(e.target.value)}}),(0,x.jsx)("small",{id:"accNumber-help",children:"Enter numeric value only."}),K(n.name)]})}})}),(0,x.jsx)("div",{className:"field col-12 md:col-6",children:(0,x.jsx)(c.Qr,{name:"accName",control:F,rules:{required:"Account Name is required."},render:function(e){var n=e.field,r=e.fieldState;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("label",{htmlFor:n.name,className:(0,f.AK)({"p-error":P.value}),children:"Account Name*"}),(0,x.jsx)(u.o,{inputId:n.name,value:n.value,inputRef:n.ref,className:(0,f.AK)({"p-invalid":r.error}),onChange:function(e){return n.onChange(e.target.value)}}),K(n.name)]})}})}),(0,x.jsx)("div",{className:"field col-12 md:col-6",children:(0,x.jsx)(c.Qr,{name:"initBalance",control:F,rules:{validate:function(e){return null!==e||"Initial Balance is required."}},render:function(e){var n=e.field,r=e.fieldState;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("label",{htmlFor:n.name,className:(0,f.AK)({"p-error":P.value}),children:"Initial Balance*"}),(0,x.jsx)(i.R,{disabled:A,inputId:n.name,value:n.value,inputRef:n.ref,className:(0,f.AK)({"p-invalid":r.error}),onValueChange:function(e){R("balance",e.value),n.onChange(e)},minFractionDigits:2,mode:"currency",currency:"BDT",currencyDisplay:"code",locale:"en-IN"}),K(n.name)]})}})}),(0,x.jsx)("div",{className:"field col-12 md:col-6",children:(0,x.jsx)(c.Qr,{name:"balance",control:F,render:function(e){var n=e.field,r=e.fieldState;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("label",{htmlFor:n.name,className:(0,f.AK)({"p-error":P.value}),children:"Current Balance*"}),(0,x.jsx)(i.R,{disabled:!0,inputId:n.name,value:n.value,inputRef:n.ref,className:(0,f.AK)({"p-invalid":r.error}),onValueChange:function(e){return n.onChange(e)},minFractionDigits:2,mode:"currency",currency:"BDT",currencyDisplay:"code",locale:"en-IN"}),K(n.name)]})}})}),(0,x.jsx)("div",{className:"field col-12 md:col-6",children:(0,x.jsx)(c.Qr,{name:"phone",control:F,render:function(e){var n=e.field,r=e.fieldState;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("label",{htmlFor:n.name,className:(0,f.AK)({"p-error":P.value}),children:"Phone"}),(0,x.jsx)(o.v,{inputId:n.name,value:n.value,inputRef:n.ref,className:(0,f.AK)({"p-invalid":r.error}),placeholder:"+880 1234 567890",onChange:function(e){return n.onChange(e.target.value)},mask:"+880 9999 999999"}),K(n.name)]})}})}),(0,x.jsx)("div",{className:"field col-12 md:col-6",children:(0,x.jsx)(c.Qr,{name:"address",control:F,render:function(e){var n=e.field,r=e.fieldState;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("label",{htmlFor:n.name,className:(0,f.AK)({"p-error":P.value}),children:"Bank Account Address"}),(0,x.jsx)(p.g,{inputId:n.name,value:n.value,inputRef:n.ref,className:(0,f.AK)({"p-invalid":r.error}),onChange:function(e){return n.onChange(e.target.value)}}),K(n.name)]})}})}),(0,x.jsx)("div",{className:"field col-12 md:col-6",children:(0,x.jsx)(c.Qr,{name:"note",control:F,render:function(e){var n=e.field,r=e.fieldState;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("label",{htmlFor:n.name,className:(0,f.AK)({"p-error":P.value}),children:"Note"}),(0,x.jsx)(p.g,{inputId:n.name,value:n.value,inputRef:n.ref,className:(0,f.AK)({"p-invalid":r.error}),onChange:function(e){return n.onChange(e.target.value)}}),K(n.name)]})}})}),(0,x.jsxs)("div",{className:"field col-12 md:col-6 mt-2",children:[(0,x.jsx)("div",{className:"field",children:"Status"}),(0,x.jsx)(c.Qr,{name:"status",control:F,render:function(e){var n=e.field,r=e.fieldState;return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(m.Q,{inputId:n.name,checked:n.value,inputRef:n.ref,className:(0,f.AK)({"p-invalid":r.error}),onChange:function(e){return n.onChange(e.value)}})})}})]})]}),(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(s.z,{type:"submit",label:"Submit",className:"mt-2",disabled:Z})})]})]})]})}},1412:function(e,n,r){r.d(n,{e:function(){return i}});var t=r(4165),a=r(5861),l=r(5671),c=r(3144),u=r(8290),i=function(){function e(){(0,l.Z)(this,e)}return(0,c.Z)(e,[{key:"getNextId",value:function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.ZP.get("/nextid/".concat(n));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},{key:"getById",value:function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n,r){var a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.ZP.get("/data/".concat(n,"/")+r);case 2:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n,r){var a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r?Object.keys(r).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(r[e])})).join("&"):"",e.abrupt("return",u.ZP.get("/data/".concat(n,"?")+a).then((function(e){return e.data})));case 2:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}()},{key:"getAllWithoutParams",value:function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var r,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={params:JSON.stringify({rows:100})},a=r?Object.keys(r).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(r[e])})).join("&"):"",e.abrupt("return",u.ZP.get("/data/".concat(n,"?")+a).then((function(e){return e.data.rows})));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n,r){var a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.ZP.post("/data/".concat(n),r);case 2:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n,r,a){var l;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.ZP.put("/data/".concat(n,"/")+r,a);case 2:return l=e.sent,console.log(l.data),e.abrupt("return",l.data);case 5:case"end":return e.stop()}}),e)})));return function(n,r,t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n,r){var a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.ZP.delete("/data/".concat(n,"/")+r);case 2:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}()}]),e}()},5550:function(e,n,r){r.d(n,{Q:function(){return s}});var t=r(2791),a=r(3574),l=r(5854);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},c.apply(this,arguments)}function u(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function i(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,a,l,c,u=[],i=!0,o=!1;try{if(l=(r=r.call(e)).next,0===n){if(Object(r)!==r)return;i=!1}else for(;!(i=(t=l.call(r)).done)&&(u.push(t.value),u.length!==n);i=!0);}catch(s){o=!0,a=s}finally{try{if(!i&&null!=r.return&&(c=r.return(),Object(c)!==c))return}finally{if(o)throw a}}return u}}(e,n)||function(e,n){if(e){if("string"===typeof e)return u(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var o={defaultProps:{__TYPE:"InputSwitch",checked:!1,className:null,disabled:!1,falseValue:!1,id:null,inputId:null,inputRef:null,name:null,onBlur:null,onChange:null,onFocus:null,style:null,tabIndex:null,tooltip:null,tooltipOptions:null,trueValue:!0,children:void 0},getProps:function(e){return l.gb.getMergedProps(e,o.defaultProps)},getOtherProps:function(e){return l.gb.getDiffProps(e,o.defaultProps)}},s=t.memo(t.forwardRef((function(e,n){var r=o.getProps(e),u=i(t.useState(!1),2),s=u[0],d=u[1],f=t.useRef(null),m=t.useRef(r.inputRef),p=r.checked===r.trueValue,h=function(e){if(r.onChange){var n=p?r.falseValue:r.trueValue;r.onChange({originalEvent:e,value:n,stopPropagation:function(){},preventDefault:function(){},target:{name:r.name,id:r.id,value:n}})}};t.useImperativeHandle(n,(function(){return{props:r,focus:function(){return l.p7.focus(m.current)},getElement:function(){return f.current},getInput:function(){return m.current}}})),t.useEffect((function(){l.gb.combinedRefs(m,r.inputRef)}),[m,r.inputRef]);var v=l.gb.isNotEmpty(r.tooltip),g=o.getOtherProps(r),x=l.gb.reduceKeys(g,l.p7.ARIA_PROPS),b=(0,l.AK)("p-inputswitch p-component",{"p-inputswitch-checked":p,"p-disabled":r.disabled,"p-focus":s},r.className);return t.createElement(t.Fragment,null,t.createElement("div",c({ref:f,id:r.id,className:b,style:r.style},g,{onClick:function(e){r.disabled||(h(e),l.p7.focus(m.current),e.preventDefault())},role:"checkbox","aria-checked":p}),t.createElement("div",{className:"p-hidden-accessible"},t.createElement("input",c({ref:m,type:"checkbox",id:r.inputId,name:r.name,checked:p,onChange:h,onFocus:function(e){d(!0),r.onFocus&&r.onFocus(e)},onBlur:function(e){d(!1),r.onBlur&&r.onBlur(e)},disabled:r.disabled,role:"switch",tabIndex:r.tabIndex,"aria-checked":p},x))),t.createElement("span",{className:"p-inputswitch-slider"})),v&&t.createElement(a.u,c({target:f,content:r.tooltip},r.tooltipOptions)))})));s.displayName="InputSwitch"}}]);
//# sourceMappingURL=bankAccountProfile.c6c7075c.chunk.js.map