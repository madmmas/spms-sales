"use strict";(self.webpackChunkspms_app=self.webpackChunkspms_app||[]).push([[8968],{2678:function(e,t,n){n.r(t);var o=n(1413),a=n(9439),s=n(7890),r=n(919),l=n(1063),i=n(2971),c=n(9856),u=n(5103),p=n(8218),d=n(7580),m=n(8291),f=n(5854),h=n(2791),g=n(5512),y=n(1811),x=n(184);t.default=function(e){var t=e.empProfile,n=y.it,v=(0,h.useRef)(null),b=(0,h.useRef)(null),N={_id:null,empId:"",designation:"",department:"",workLocation:"",supervisorId:"",joiningDate:"",leavingDate:"",employmentStatus:"",dateOfParmanent:"",grossSalary:""},j={fields:["name","description"],first:0,rows:10,page:1,sortField:null,sortOrder:null,filters:{empId:{operator:s.pg.AND,constraints:[{value:t.empId,matchMode:s.a6.EQUALS}]},designation:{operator:s.pg.AND,constraints:[{value:"",matchMode:s.a6.EQUALS}]},department:{operator:s.pg.AND,constraints:[{value:"",matchMode:s.a6.EQUALS}]},workLocation:{operator:s.pg.AND,constraints:[{value:"",matchMode:s.a6.EQUALS}]},supervisorId:{operator:s.pg.AND,constraints:[{value:"",matchMode:s.a6.EQUALS}]},joiningDate:{operator:s.pg.AND,constraints:[{value:"",matchMode:s.a6.EQUALS}]},leavingDate:{operator:s.pg.AND,constraints:[{value:"",matchMode:s.a6.EQUALS}]},employmentStatus:{operator:s.pg.AND,constraints:[{value:"",matchMode:s.a6.EQUALS}]},dateOfParmanent:{operator:s.pg.AND,constraints:[{value:"",matchMode:s.a6.EQUALS}]},grossSalary:{operator:s.pg.AND,constraints:[{value:"",matchMode:s.a6.EQUALS}]}}},S=(0,h.useState)(!1),E=(0,a.Z)(S,2),w=E[0],P=E[1],k=(0,h.useState)(0),D=(0,a.Z)(k,2),C=D[0],F=D[1],A=(0,h.useState)(null),z=(0,a.Z)(A,2),O=z[0],R=z[1],L=(0,h.useState)(!1),Z=(0,a.Z)(L,2),I=Z[0],H=Z[1],M=(0,h.useState)(!1),U=(0,a.Z)(M,2),K=U[0],_=U[1],Q=(0,h.useState)(!1),B=(0,a.Z)(Q,2),V=B[0],T=B[1],G=(0,h.useState)(N),Y=(0,a.Z)(G,2),J=Y[0],q=Y[1],W=(0,h.useState)(null),X=(0,a.Z)(W,2),$=X[0],ee=X[1],te=(0,h.useState)(!1),ne=(0,a.Z)(te,2),oe=ne[0],ae=ne[1],se=(0,h.useState)(!0),re=(0,a.Z)(se,2),le=re[0],ie=re[1],ce=(0,h.useState)(j),ue=(0,a.Z)(ce,2),pe=ue[0],de=ue[1],me=new g.E;(0,h.useEffect)((function(){he()}),[]);var fe=function(){he()},he=function(){de(j)};(0,h.useEffect)((function(){ge()}),[pe]);var ge=function(){P(!0),me.getAll(n,{params:JSON.stringify(pe)}).then((function(e){console.log(e),F(e.total),R(e.rows),P(!1)}))},ye=function(){ie(!0),q(N),ae(!1),H(!0)},xe=function(){ae(!1),H(!1)},ve=function(){_(!1)},be=function(){T(!1)},Ne=function(){b.current.exportCSV()},je=function(e,t){var n=e.target&&e.target.value||"",a=(0,o.Z)({},J);a["".concat(t)]=n,q(a)},Se=(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(r.z,{label:"Cancel",icon:"pi pi-times",className:"p-button-text",onClick:xe}),(0,x.jsx)(r.z,{label:"Save",icon:"pi pi-check",className:"p-button-text",onClick:function(){ae(!0),J.name.trim()&&(J._id?me.update(n,J._id,J).then((function(e){console.log(e),ge(),v.current.show({severity:"success",summary:"Successful",detail:"EmploymentHistory Updated",life:3e3})})):me.create(n,J).then((function(e){console.log(e),ge(),v.current.show({severity:"success",summary:"Successful",detail:"EmploymentHistory Created",life:3e3})})),H(!1),q(N))}})]}),Ee=(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(r.z,{label:"No",icon:"pi pi-times",className:"p-button-text",onClick:ve}),(0,x.jsx)(r.z,{label:"Yes",icon:"pi pi-check",className:"p-button-text",onClick:function(){me.delete(n,J._id).then((function(e){console.log(e),ge(),v.current.show({severity:"success",summary:"Successful",detail:"Employee Profile Deleted",life:3e3})})),_(!1),q(N)}})]}),we=(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(r.z,{label:"No",icon:"pi pi-times",className:"p-button-text",onClick:be}),(0,x.jsx)(r.z,{label:"Yes",icon:"pi pi-check",className:"p-button-text",onClick:function(){var e=O.filter((function(e){return!$.includes(e)}));R(e),T(!1),ee(null),v.current.show({severity:"success",summary:"Successful",detail:"EmploymentHistorys Deleted",life:3e3})}})]});return(0,x.jsx)("div",{className:"grid crud-demo",children:(0,x.jsx)("div",{className:"col-12",children:(0,x.jsxs)("div",{className:"card",children:[(0,x.jsx)(d.F,{ref:v}),(0,x.jsx)(m.o,{className:"mb-4",left:function(){return(0,x.jsx)(h.Fragment,{children:(0,x.jsx)("div",{className:"flex justify-content-between",children:(0,x.jsx)(r.z,{label:"New",icon:"pi pi-plus",className:"p-button-success mr-2",onClick:ye})})})},right:function(){return(0,x.jsx)(h.Fragment,{children:(0,x.jsx)(r.z,{label:"Export",icon:"pi pi-upload",className:"p-button-help",onClick:Ne})})}}),(0,x.jsxs)(i.w,{ref:b,value:O,dataKey:"_id",className:"datatable-responsive",responsiveLayout:"scroll",lazy:!0,loading:w,rows:pe.rows,onSort:function(e){var t=(0,o.Z)((0,o.Z)({},pe),e);de(t)},sortField:pe.sortField,sortOrder:pe.sortOrder,onFilter:function(e){var t=(0,o.Z)((0,o.Z)({},pe),e);t.first=0,de(t)},filters:pe.filters,filterDisplay:"menu",paginator:!0,totalRecords:C,onPage:function(e){var t=(0,o.Z)((0,o.Z)({},pe),e);de(t)},first:pe.first,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25,50],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} entries",emptyMessage:"No data found.",header:function(){return(0,x.jsxs)("div",{className:"flex justify-content-between",children:[(0,x.jsx)("h5",{className:"m-0",children:"Manage EmploymentHistory"}),(0,x.jsx)(r.z,{type:"button",icon:"pi pi-filter-slash",label:"Clear",className:"p-button-outlined",onClick:fe})]})},children:[(0,x.jsx)(l.s,{body:function(e){return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(r.z,{icon:"pi pi-pencil",className:"p-button-rounded p-button-success mr-2",onClick:function(){return function(e){ie(!1),q((0,o.Z)({},e)),H(!0)}(e)}}),(0,x.jsx)(r.z,{icon:"pi pi-trash",className:"p-button-rounded p-button-warning",onClick:function(){return function(e){q(e),_(!0)}(e)}})]})},headerStyle:{minWidth:"10rem"}}),(0,x.jsx)(l.s,{field:"name",header:"Name",filter:!0,filterPlaceholder:"Search by name",sortable:!0,body:function(e){return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("span",{className:"p-column-title",children:"Name"}),e.name]})},headerStyle:{minWidth:"15rem"}}),(0,x.jsx)(l.s,{field:"description",header:"Description",filter:!0,filterPlaceholder:"Search by description",sortable:!0,body:function(e){return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("span",{className:"p-column-title",children:"Description"}),e.description]})},headerStyle:{minWidth:"15rem"}})]}),(0,x.jsxs)(c.V,{visible:I,style:{width:"450px"},header:"".concat(le?"Create":"Edit"," EmploymentHistory"),modal:!0,className:"p-fluid",footer:Se,onHide:xe,children:[J.image&&(0,x.jsx)("img",{src:"".concat("~","/demo/images/employmentHistory/").concat(J.image),alt:J.image,width:"150",className:"mt-0 mx-auto mb-5 block shadow-2"}),(0,x.jsxs)("div",{className:"field",children:[(0,x.jsx)("label",{htmlFor:"name",children:"Name*"}),(0,x.jsx)(u.o,{id:"name",value:J.name,onChange:function(e){return je(e,"name")},required:!0,autoFocus:!0,className:(0,f.AK)({"p-invalid":oe&&!J.name})}),oe&&!J.name&&(0,x.jsx)("small",{className:"p-invalid",children:"Name is required."})]}),(0,x.jsxs)("div",{className:"field",children:[(0,x.jsx)("label",{htmlFor:"description",children:"Description"}),(0,x.jsx)(p.g,{id:"description",value:J.description,onChange:function(e){return je(e,"description")},required:!0,rows:3,cols:20})]})]}),(0,x.jsx)(c.V,{visible:K,style:{width:"450px"},header:"Confirm",modal:!0,footer:Ee,onHide:ve,children:(0,x.jsxs)("div",{className:"flex align-items-center justify-content-center",children:[(0,x.jsx)("i",{className:"pi pi-exclamation-triangle mr-3",style:{fontSize:"2rem"}}),J&&(0,x.jsxs)("span",{children:["Are you sure you want to delete ",(0,x.jsx)("b",{children:J.empID}),"?"]})]})}),(0,x.jsx)(c.V,{visible:V,style:{width:"450px"},header:"Confirm",modal:!0,footer:we,onHide:be,children:(0,x.jsxs)("div",{className:"flex align-items-center justify-content-center",children:[(0,x.jsx)("i",{className:"pi pi-exclamation-triangle mr-3",style:{fontSize:"2rem"}}),J&&(0,x.jsx)("span",{children:"Are you sure you want to delete the selected items?"})]})})]})})})}},8218:function(e,t,n){n.d(t,{g:function(){return p}});var o=n(2791),a=n(8820),s=n(3574),r=n(5854),l=n(5388),i=n(7890);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c.apply(this,arguments)}var u=l.V.extend({defaultProps:{__TYPE:"InputTextarea",autoResize:!1,keyfilter:null,onBlur:null,onFocus:null,onBeforeInput:null,onInput:null,onKeyDown:null,onKeyUp:null,onPaste:null,tooltip:null,tooltipOptions:null,validateOnly:!1,children:void 0}}),p=o.memo(o.forwardRef((function(e,t){var n=o.useContext(i.Ou),l=u.getProps(e,n),p=o.useRef(t),d=o.useRef(0),m=u.setMetaData({props:l}).ptm,f=function(e){var t=p.current;t&&r.p7.isVisible(t)&&(d.current||(d.current=t.scrollHeight,t.style.overflow="hidden"),(d.current!==t.scrollHeight||e)&&(t.style.height="",t.style.height=t.scrollHeight+"px",parseFloat(t.style.height)>=parseFloat(t.style.maxHeight)?(t.style.overflowY="scroll",t.style.height=t.style.maxHeight):t.style.overflow="hidden",d.current=t.scrollHeight))};o.useEffect((function(){r.gb.combinedRefs(p,t)}),[p,t]),o.useEffect((function(){l.autoResize&&f(!0)}),[l.autoResize]);var h=o.useMemo((function(){return r.gb.isNotEmpty(l.value)||r.gb.isNotEmpty(l.defaultValue)}),[l.value,l.defaultValue]),g=r.gb.isNotEmpty(l.tooltip),y=(0,r.AK)("p-inputtextarea p-inputtext p-component",{"p-disabled":l.disabled,"p-filled":h,"p-inputtextarea-resizable":l.autoResize},l.className),x=(0,r.dG)({ref:p,className:y,onFocus:function(e){l.autoResize&&f(),l.onFocus&&l.onFocus(e)},onBlur:function(e){l.autoResize&&f(),l.onBlur&&l.onBlur(e)},onKeyUp:function(e){l.autoResize&&f(),l.onKeyUp&&l.onKeyUp(e)},onKeyDown:function(e){l.onKeyDown&&l.onKeyDown(e),l.keyfilter&&a.F.onKeyPress(e,l.keyfilter,l.validateOnly)},onBeforeInput:function(e){l.onBeforeInput&&l.onBeforeInput(e),l.keyfilter&&a.F.onBeforeInput(e,l.keyfilter,l.validateOnly)},onInput:function(e){var t=e.target;l.autoResize&&f(r.gb.isEmpty(t.value)),l.onInput&&l.onInput(e),r.gb.isNotEmpty(t.value)?r.p7.addClass(t,"p-filled"):r.p7.removeClass(t,"p-filled")},onPaste:function(e){l.onPaste&&l.onPaste(e),l.keyfilter&&a.F.onPaste(e,l.keyfilter,l.validateOnly)}},u.getOtherProps(l),m("root"));return o.createElement(o.Fragment,null,o.createElement("textarea",x),g&&o.createElement(s.u,c({target:p,content:l.tooltip},l.tooltipOptions,{pt:m("tooltip")})))})));p.displayName="InputTextarea"},8291:function(e,t,n){n.d(t,{o:function(){return i}});var o=n(2791),a=n(5854),s=n(5388),r=n(7890),l=s.V.extend({defaultProps:{__TYPE:"Toolbar",id:null,style:null,className:null,left:null,right:null,start:null,center:null,end:null,children:void 0}}),i=o.memo(o.forwardRef((function(e,t){var n=o.useContext(r.Ou),s=l.getProps(e,n),i=o.useRef(null),c=a.gb.getJSXElement(s.left||s.start,s),u=a.gb.getJSXElement(s.center,s),p=a.gb.getJSXElement(s.right||s.end,s),d=l.setMetaData({props:s}).ptm;o.useImperativeHandle(t,(function(){return{props:s,getElement:function(){return i.current}}}));var m=(0,a.dG)({className:"p-toolbar-group-start p-toolbar-group-left"},d("start")),f=(0,a.dG)({className:"p-toolbar-group-center"},d("center")),h=(0,a.dG)({className:"p-toolbar-group-end p-toolbar-group-right"},d("end")),g=(0,a.dG)({id:s.id,ref:i,style:s.style,className:(0,a.AK)("p-toolbar p-component",s.className),role:"toolbar"},l.getOtherProps(s),d("root"));return o.createElement("div",g,o.createElement("div",m,c),o.createElement("div",f,u),o.createElement("div",h,p))})));i.displayName="Toolbar"}}]);
//# sourceMappingURL=employmentHistory.aaaaba09.chunk.js.map