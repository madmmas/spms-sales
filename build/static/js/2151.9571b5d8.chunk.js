"use strict";(self.webpackChunkspms_app=self.webpackChunkspms_app||[]).push([[2151],{1811:function(e,t,n){n.d(t,{A5:function(){return _},CN:function(){return j},CZ:function(){return u},D:function(){return I},Eh:function(){return L},GB:function(){return D},H0:function(){return F},Hh:function(){return h},Hn:function(){return w},Id:function(){return v},Ik:function(){return S},LM:function(){return o},MU:function(){return r},Ni:function(){return f},Q4:function(){return E},R$:function(){return p},UR:function(){return y},VB:function(){return m},VC:function(){return i},W9:function(){return O},aA:function(){return A},aF:function(){return x},eQ:function(){return C},ev:function(){return g},fs:function(){return P},if:function(){return N},it:function(){return c},kj:function(){return l},q$:function(){return a},qI:function(){return k},rV:function(){return Z},s5:function(){return b},sf:function(){return s},sk:function(){return T},uG:function(){return W},vN:function(){return R},vY:function(){return d}});var r="dtBank",a="dtBankAccount",o="dtCash",u="dtCustomer",i="dtEmployee",c="dtEmploymentHistory",s="dtProduct",l="dtSupplier",d="dtWarehouse",f="dtStock",p="trxDamagedStock",m="trxStockAdjustment",h="trxExpense",x="trxExtraIncome",g="trxPurchase",v="trxSales",y="trxStockIn",b="trxStockOut",Z="trxACReceivable",j="trxACPayable",k="trxBankRegister",S="trxCashRegister",w="trxPayment",P="dtCustomerCategory",N="dtDepartment",C="dtDesignation",E="dtExpenseType",R="dtExtraIncomeType",D="dtGrade",I="dtGroup",_="dtProductBrand",A="dtProductModel",O="dtOfficeTime",T="dtPaymentType",W="dtProductCategory",F="dtRoute",L="dtSupplierCategory"},2151:function(e,t,n){n.r(t);var r=n(1413),a=n(9439),o=n(2791),u=n(7689),i=n(7890),c=n(919),s=n(1063),l=n(9856),d=n(2971),f=n(7580),p=n(3014),m=n(8291),h=n(1412),x=n(5512),g=n(1811),v=n(184);t.default=function(){var e=g.VC,t=(0,o.useState)([]),n=(0,a.Z)(t,2),y=n[0],b=n[1],Z=(0,o.useState)([]),j=(0,a.Z)(Z,2),k=(j[0],j[1]),S=(0,o.useState)([]),w=(0,a.Z)(S,2),P=w[0],N=w[1],C=(0,o.useState)([]),E=(0,a.Z)(C,2),R=(E[0],E[1]),D=(0,o.useState)([]),I=(0,a.Z)(D,2),_=(I[0],I[1]),A=new h.e,O=(0,u.s0)(),T=(0,o.useRef)(null),W=(0,o.useRef)(null),F={fields:["empID","name","phone","email","dtGrade_id","dtDepartment_id","dtDesignation_id","dtOfficeTime_id","dtGroup_id"],first:0,rows:10,page:1,sortField:null,sortOrder:null,filters:{empID:{operator:i.pg.OR,constraints:[{value:null,matchMode:i.a6.STARTS_WITH}]},name:{operator:i.pg.OR,constraints:[{value:null,matchMode:i.a6.STARTS_WITH}]},phone:{operator:i.pg.OR,constraints:[{value:null,matchMode:i.a6.STARTS_WITH}]},email:{operator:i.pg.OR,constraints:[{value:null,matchMode:i.a6.STARTS_WITH}]},dtGrade_id:{operator:i.pg.OR,constraints:[{value:null,matchMode:i.a6.EQUALS}]},dtDepartment_id:{operator:i.pg.OR,constraints:[{value:null,matchMode:i.a6.EQUALS}]},dtDesignation_id:{operator:i.pg.OR,constraints:[{value:null,matchMode:i.a6.EQUALS}]},dtOfficeTime_id:{operator:i.pg.OR,constraints:[{value:null,matchMode:i.a6.EQUALS}]},dtGroup_id:{operator:i.pg.OR,constraints:[{value:null,matchMode:i.a6.EQUALS}]}}},L=(0,o.useState)(!1),M=(0,a.Z)(L,2),z=M[0],G=M[1],U=(0,o.useState)(0),H=(0,a.Z)(U,2),V=H[0],B=H[1],Q=(0,o.useState)(null),J=(0,a.Z)(Q,2),Y=J[0],X=J[1],q=(0,o.useState)(!1),K=(0,a.Z)(q,2),$=K[0],ee=K[1],te=(0,o.useState)(!1),ne=(0,a.Z)(te,2),re=ne[0],ae=ne[1],oe=(0,o.useState)({}),ue=(0,a.Z)(oe,2),ie=ue[0],ce=ue[1],se=(0,o.useState)(null),le=(0,a.Z)(se,2),de=le[0],fe=le[1],pe=(0,o.useState)(F),me=(0,a.Z)(pe,2),he=me[0],xe=me[1],ge=new x.E;(0,o.useEffect)((function(){ye(),A.getAllWithoutParams(g.GB).then((function(e){k(e)}))}),[]),(0,o.useEffect)((function(){ye(),A.getAllWithoutParams(g.if).then((function(e){b(e)}))}),[]),(0,o.useEffect)((function(){ye(),A.getAllWithoutParams(g.eQ).then((function(e){N(e)}))}),[]),(0,o.useEffect)((function(){ye(),A.getAllWithoutParams(g.W9).then((function(e){R(e)}))}),[]),(0,o.useEffect)((function(){ye(),A.getAllWithoutParams(g.D).then((function(e){_(e)}))}),[]),(0,o.useEffect)((function(){ye()}),[]);var ve=function(){ye()},ye=function(){xe(F)};(0,o.useEffect)((function(){be()}),[he]);var be=function(){G(!0),ge.getAll(e,{params:JSON.stringify(he)}).then((function(e){console.log(e),B(e.total),X(e.rows),G(!1)}))},Ze=function(){W.current.exportCSV()},je=function(){O("/employees/new")},ke=function(){ee(!1)},Se=function(){ae(!1)},we=(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(c.z,{label:"No",icon:"pi pi-times",className:"p-button-text",onClick:ke}),(0,v.jsx)(c.z,{label:"Yes",icon:"pi pi-check",className:"p-button-text",onClick:function(){ge.delete(e,ie._id).then((function(e){console.log(e),be(),T.current.show({severity:"success",summary:"Successful",detail:"Employee Profile Deleted",life:3e3})})),ee(!1),ce(null)}})]}),Pe=(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(c.z,{label:"No",icon:"pi pi-times",className:"p-button-text",onClick:Se}),(0,v.jsx)(c.z,{label:"Yes",icon:"pi pi-check",className:"p-button-text",onClick:function(){var e=Y.filter((function(e){return!de.includes(e)}));X(e),ae(!1),fe(null),T.current.show({severity:"success",summary:"Successful",detail:"EmpProfiles Deleted",life:3e3})}})]});return(0,v.jsx)("div",{className:"grid crud-demo",children:(0,v.jsx)("div",{className:"col-12",children:(0,v.jsxs)("div",{className:"card",children:[(0,v.jsx)(f.F,{ref:T}),(0,v.jsx)(m.o,{className:"mb-4",left:function(){return(0,v.jsx)(o.Fragment,{children:(0,v.jsx)("div",{className:"flex justify-content-between",children:(0,v.jsx)(c.z,{label:"New",icon:"pi pi-plus",className:"p-button-success mr-2",onClick:je})})})},right:function(){return(0,v.jsx)(o.Fragment,{children:(0,v.jsx)(c.z,{label:"Export",icon:"pi pi-upload",className:"p-button-help",onClick:Ze})})}}),(0,v.jsxs)(d.w,{ref:W,value:Y,dataKey:"_id",className:"datatable-responsive",responsiveLayout:"scroll",lazy:!0,loading:z,rows:he.rows,onSort:function(e){var t=(0,r.Z)((0,r.Z)({},he),e);xe(t)},sortField:he.sortField,sortOrder:he.sortOrder,onFilter:function(e){var t=(0,r.Z)((0,r.Z)({},he),e);t.first=0,xe(t)},filters:he.filters,filterDisplay:"menu",scrollable:!0,columnResizeMode:"expand",resizableColumns:!0,showGridlines:!0,paginator:!0,totalRecords:V,onPage:function(e){var t=(0,r.Z)((0,r.Z)({},he),e);xe(t)},first:he.first,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25,50],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} entries",emptyMessage:"No data found.",header:function(){return(0,v.jsxs)("div",{className:"flex justify-content-between",children:[(0,v.jsx)("h5",{className:"m-0",children:"Manage Employees"}),(0,v.jsx)(c.z,{type:"button",icon:"pi pi-filter-slash",label:"Clear",className:"p-button-outlined",onClick:ve})]})},children:[(0,v.jsx)(s.s,{body:function(e){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(c.z,{icon:"pi pi-pencil",className:"p-button-rounded p-button-success mr-2",onClick:function(){return function(e){O("/employees/"+e._id)}(e)}}),(0,v.jsx)(c.z,{icon:"pi pi-trash",className:"p-button-rounded p-button-warning",onClick:function(){return function(e){ce(e),ee(!0)}(e)}})]})},frozen:!0,headerStyle:{minWidth:"10rem"}}),(0,v.jsx)(s.s,{field:"empID",header:"Employee ID",filter:!0,filterPlaceholder:"Search by ID",sortable:!0,body:function(e){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("span",{className:"p-column-title",children:"Employee ID"}),e.empID]})},headerStyle:{minWidth:"15rem"}}),(0,v.jsx)(s.s,{field:"name",header:"Name",filter:!0,filterPlaceholder:"Search by Name",sortable:!0,body:function(e){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("span",{className:"p-column-title",children:"Name"}),e.first_name]})},headerStyle:{minWidth:"15rem"}}),(0,v.jsx)(s.s,{field:"phone",header:"Phone",filter:!0,filterPlaceholder:"Search by Phone",sortable:!0,body:function(e){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("span",{className:"p-column-title",children:"Phone"}),e.phone]})},headerStyle:{minWidth:"15rem"}}),(0,v.jsx)(s.s,{field:"email",header:"Email",filter:!0,filterPlaceholder:"Search by Email",sortable:!0,body:function(e){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("span",{className:"p-column-title",children:"Email"}),e.email]})},headerStyle:{minWidth:"15rem"}}),(0,v.jsx)(s.s,{field:"dtDesignation_id",header:"Designation",filter:!0,filterElement:function(e){return(0,v.jsx)(p.L,{value:e.value,optionValue:"_id",optionLabel:"name",options:P,onChange:function(t){return e.filterCallback(t.value,e.index)},placeholder:"Select One",className:"p-column-filter",showClear:!0})},sortable:!0,body:function(e){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("span",{className:"p-column-title",children:"Designation ID"}),e.dtDesignation_id_shortname]})},headerStyle:{minWidth:"15rem"}}),(0,v.jsx)(s.s,{field:"dtDepartment_id",header:"Department",filter:!0,filterElement:function(e){return(0,v.jsx)(p.L,{value:e.value,optionValue:"_id",optionLabel:"name",options:y,onChange:function(t){return e.filterCallback(t.value,e.index)},placeholder:"Select One",className:"p-column-filter",showClear:!0})},sortable:!0,body:function(e){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("span",{className:"p-column-title",children:"Department ID"}),e.dtDepartment_id_shortname]})},headerStyle:{minWidth:"15rem"}})]}),(0,v.jsx)(l.V,{visible:$,style:{width:"450px"},header:"Confirm",modal:!0,footer:we,onHide:ke,children:(0,v.jsxs)("div",{className:"flex align-items-center justify-content-center",children:[(0,v.jsx)("i",{className:"pi pi-exclamation-triangle mr-3",style:{fontSize:"2rem"}}),ie&&(0,v.jsxs)("span",{children:["Are you sure you want to delete ",(0,v.jsx)("b",{children:ie.empId}),"?"]})]})}),(0,v.jsx)(l.V,{visible:re,style:{width:"450px"},header:"Confirm",modal:!0,footer:Pe,onHide:Se,children:(0,v.jsxs)("div",{className:"flex align-items-center justify-content-center",children:[(0,v.jsx)("i",{className:"pi pi-exclamation-triangle mr-3",style:{fontSize:"2rem"}}),ie&&(0,v.jsx)("span",{children:"Are you sure you want to delete the selected items?"})]})})]})})})}},1412:function(e,t,n){n.d(t,{e:function(){return c}});var r=n(4165),a=n(5861),o=n(5671),u=n(3144),i=n(8293),c=function(){function e(){(0,o.Z)(this,e)}return(0,u.Z)(e,[{key:"getNextId",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.ZP.get("/nextid/".concat(t),{cache:!1});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getById",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="/data/".concat(t,"/")+n,e.next=3,i.ZP.get(a,{timeout:15e3,id:a,cache:{ttl:2e4}});case 3:return o=e.sent,console.log(o.data),e.abrupt("return",o.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n?Object.keys(n).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(n[e])})).join("&"):"",o="/data/".concat(t,"?")+a,e.abrupt("return",i.ZP.get(o,{timeout:15e3,id:o,cache:{ttl:2e4}}).then((function(e){return e.data})));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getAllWithoutParams",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={params:JSON.stringify({rows:1e3})},a=n?Object.keys(n).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(n[e])})).join("&"):"",o="/data/".concat(t,"?")+a,e.abrupt("return",i.ZP.get(o,{timeout:15e3,id:o,cache:{ttl:2e4}}).then((function(e){return e.data.rows})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.ZP.post("/data/".concat(t),n);case 2:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n,a){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.ZP.put("/data/".concat(t,"/")+n,a);case 2:return o=e.sent,console.log(o.data),e.abrupt("return",o.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.ZP.delete("/data/".concat(t,"/")+n);case 2:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}()},5512:function(e,t,n){n.d(t,{E:function(){return c}});var r=n(4165),a=n(5861),o=n(5671),u=n(3144),i=n(8293),c=function(){function e(){(0,o.Z)(this,e)}return(0,u.Z)(e,[{key:"getById",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="/data/".concat(t,"/")+n,e.next=3,i.ZP.get(a,{timeout:15e3,id:a,cache:{ttl:2e4}});case 3:return o=e.sent,console.log(o.data),e.abrupt("return",o.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n?Object.keys(n).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(n[e])})).join("&"):"",o="/data/".concat(t,"?")+a,e.abrupt("return",i.ZP.get(o,{timeout:15e3,id:o,cache:{ttl:2e4}}).then((function(e){return e.data})));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.ZP.post("/data/".concat(t),n);case 2:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n,a){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.ZP.put("/data/".concat(t,"/")+n,a);case 2:return o=e.sent,console.log(o.data),e.abrupt("return",o.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.ZP.delete("/data/".concat(t,"/")+n);case 2:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}()},8291:function(e,t,n){n.d(t,{o:function(){return c}});var r=n(2791),a=n(5854),o=n(5388),u=n(7890),i=o.V.extend({defaultProps:{__TYPE:"Toolbar",id:null,style:null,className:null,left:null,right:null,start:null,center:null,end:null,children:void 0}}),c=r.memo(r.forwardRef((function(e,t){var n=r.useContext(u.Ou),o=i.getProps(e,n),c=r.useRef(null),s=a.gb.getJSXElement(o.left||o.start,o),l=a.gb.getJSXElement(o.center,o),d=a.gb.getJSXElement(o.right||o.end,o),f=i.setMetaData({props:o}).ptm;r.useImperativeHandle(t,(function(){return{props:o,getElement:function(){return c.current}}}));var p=(0,a.dG)({className:"p-toolbar-group-start p-toolbar-group-left"},f("start")),m=(0,a.dG)({className:"p-toolbar-group-center"},f("center")),h=(0,a.dG)({className:"p-toolbar-group-end p-toolbar-group-right"},f("end")),x=(0,a.dG)({id:o.id,ref:c,style:o.style,className:(0,a.AK)("p-toolbar p-component",o.className),role:"toolbar"},i.getOtherProps(o),f("root"));return r.createElement("div",x,r.createElement("div",p,s),r.createElement("div",m,l),r.createElement("div",h,d))})));c.displayName="Toolbar"}}]);
//# sourceMappingURL=2151.9571b5d8.chunk.js.map