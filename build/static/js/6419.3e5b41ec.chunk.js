"use strict";(self.webpackChunkspms_app=self.webpackChunkspms_app||[]).push([[6419],{9615:function(e,t,n){n.d(t,{Aq:function(){return o},Cg:function(){return l},Hf:function(){return r},IE:function(){return i},PC:function(){return f},PV:function(){return u},Qx:function(){return d},UM:function(){return m},UY:function(){return c},_q:function(){return p},pe:function(){return a},wu:function(){return s}});var r="onStockInPackageProduct",a="onSalesProduct",c="onCancelSalesOrder",s="onConfirmSalesOrder",o="onExpenseFromCash",i="onExpenseFromBank",u="onExtraIncomeToCash",l="onExtraIncomeToBank",d="onCashToBank",p="onBankToCash",f="onDamagedStock",m="onStockAdjustment"},6419:function(e,t,n){n.r(t);var r=n(1413),a=n(3433),c=n(9439),s=n(919),o=n(1063),i=n(7145),u=n(4286),l=n(6438),d=n(989),p=n(5103),f=n(8218),m=n(1037),h=n(779),x=n(7580),g=n(8291),v=n(5854),y=n(2791),j=n(3985),b=n(184);t.default=function(){var e={id:null,name:"",image:null,description:"",category:null,price:0,quantity:0,rating:0,inventoryStatus:"INSTOCK"},t=(0,y.useState)(null),n=(0,c.Z)(t,2),Z=n[0],k=n[1],w=(0,y.useState)(!1),N=(0,c.Z)(w,2),S=N[0],C=N[1],P=(0,y.useState)(!1),F=(0,c.Z)(P,2),I=F[0],A=F[1],D=(0,y.useState)(!1),E=(0,c.Z)(D,2),L=E[0],U=E[1],R=(0,y.useState)(e),z=(0,c.Z)(R,2),B=z[0],M=z[1],T=(0,y.useState)(null),q=(0,c.Z)(T,2),O=q[0],V=q[1],Q=(0,y.useState)(!1),_=(0,c.Z)(Q,2),H=_[0],W=_[1],K=(0,y.useState)(null),Y=(0,c.Z)(K,2),J=Y[0],G=Y[1],X=(0,y.useRef)(null),$=(0,y.useRef)(null);(0,y.useEffect)((function(){(new j.M).getProducts().then((function(e){return k(e)}))}),[]);var ee=function(){M(e),W(!1),C(!0)},te=function(){W(!1),C(!1)},ne=function(){A(!1)},re=function(){U(!1)},ae=function(e){for(var t=-1,n=0;n<Z.length;n++)if(Z[n].id===e){t=n;break}return t},ce=function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<5;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},se=function(){$.current.exportCSV()},oe=function(){U(!0)},ie=function(e){var t=(0,r.Z)({},B);t.category=e.value,M(t)},ue=function(e,t){var n=e.target&&e.target.value||"",a=(0,r.Z)({},B);a["".concat(t)]=n,M(a)},le=function(e,t){var n=e.value||0,a=(0,r.Z)({},B);a["".concat(t)]=n,M(a)},de=(0,b.jsxs)("div",{className:"flex flex-column md:flex-row md:justify-content-between md:align-items-center",children:[(0,b.jsx)("h5",{className:"m-0",children:"Manage Products"}),(0,b.jsxs)("span",{className:"block mt-2 md:mt-0 p-input-icon-left",children:[(0,b.jsx)("i",{className:"pi pi-search"}),(0,b.jsx)(p.o,{type:"search",onInput:function(e){return G(e.target.value)},placeholder:"Search..."})]})]}),pe=(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(s.z,{label:"Cancel",icon:"pi pi-times",className:"p-button-text",onClick:te}),(0,b.jsx)(s.z,{label:"Save",icon:"pi pi-check",className:"p-button-text",onClick:function(){if(W(!0),B.name.trim()){var t=(0,a.Z)(Z),n=(0,r.Z)({},B);if(B.id)t[ae(B.id)]=n,X.current.show({severity:"success",summary:"Successful",detail:"Product Updated",life:3e3});else n.id=ce(),n.code=ce(),n.image="product-placeholder.svg",t.push(n),X.current.show({severity:"success",summary:"Successful",detail:"Product Created",life:3e3});k(t),C(!1),M(e)}}})]}),fe=(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(s.z,{label:"No",icon:"pi pi-times",className:"p-button-text",onClick:ne}),(0,b.jsx)(s.z,{label:"Yes",icon:"pi pi-check",className:"p-button-text",onClick:function(){var t=Z.filter((function(e){return e.id!==B.id}));k(t),A(!1),M(e),X.current.show({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3})}})]}),me=(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(s.z,{label:"No",icon:"pi pi-times",className:"p-button-text",onClick:re}),(0,b.jsx)(s.z,{label:"Yes",icon:"pi pi-check",className:"p-button-text",onClick:function(){var e=Z.filter((function(e){return!O.includes(e)}));k(e),U(!1),V(null),X.current.show({severity:"success",summary:"Successful",detail:"Products Deleted",life:3e3})}})]});return(0,b.jsx)("div",{className:"grid crud-demo",children:(0,b.jsx)("div",{className:"col-12",children:(0,b.jsxs)("div",{className:"card",children:[(0,b.jsx)(x.F,{ref:X}),(0,b.jsx)(g.o,{className:"mb-4",left:function(){return(0,b.jsx)(y.Fragment,{children:(0,b.jsxs)("div",{className:"my-2",children:[(0,b.jsx)(s.z,{label:"New",icon:"pi pi-plus",className:"p-button-success mr-2",onClick:ee}),(0,b.jsx)(s.z,{label:"Delete",icon:"pi pi-trash",className:"p-button-danger",onClick:oe,disabled:!O||!O.length})]})})},right:function(){return(0,b.jsxs)(y.Fragment,{children:[(0,b.jsx)(l.p,{mode:"basic",accept:"image/*",maxFileSize:1e6,label:"Import",chooseLabel:"Import",className:"mr-2 inline-block"}),(0,b.jsx)(s.z,{label:"Export",icon:"pi pi-upload",className:"p-button-help",onClick:se})]})}}),(0,b.jsxs)(i.w,{ref:$,value:Z,selection:O,onSelectionChange:function(e){return V(e.value)},dataKey:"id",paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],className:"datatable-responsive",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} products",globalFilter:J,emptyMessage:"No products found.",header:de,responsiveLayout:"scroll",children:[(0,b.jsx)(o.s,{selectionMode:"multiple",headerStyle:{width:"4rem"}}),(0,b.jsx)(o.s,{field:"code",header:"Code",sortable:!0,body:function(e){return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"p-column-title",children:"Code"}),e.code]})},headerStyle:{minWidth:"15rem"}}),(0,b.jsx)(o.s,{field:"name",header:"Name",sortable:!0,body:function(e){return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"p-column-title",children:"Name"}),e.name]})},headerStyle:{minWidth:"15rem"}}),(0,b.jsx)(o.s,{header:"Image",body:function(e){return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"p-column-title",children:"Image"}),(0,b.jsx)("img",{src:"".concat("~","/demo/images/product/").concat(e.image),alt:e.image,className:"shadow-2",width:"100"})]})}}),(0,b.jsx)(o.s,{field:"price",header:"Price",body:function(e){return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"p-column-title",children:"Price"}),(t=e.price,t.toLocaleString("en-US",{style:"currency",currency:"USD"}))]});var t},sortable:!0}),(0,b.jsx)(o.s,{field:"category",header:"Category",sortable:!0,body:function(e){return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"p-column-title",children:"Category"}),e.category]})},headerStyle:{minWidth:"10rem"}}),(0,b.jsx)(o.s,{field:"rating",header:"Reviews",body:function(e){return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"p-column-title",children:"Reviews"}),(0,b.jsx)(h.i,{value:e.rating,readOnly:!0,cancel:!1})]})},sortable:!0}),(0,b.jsx)(o.s,{field:"inventoryStatus",header:"Status",body:function(e){return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"p-column-title",children:"Status"}),(0,b.jsx)("span",{className:"product-badge status-".concat(e.inventoryStatus.toLowerCase()),children:e.inventoryStatus})]})},sortable:!0,headerStyle:{minWidth:"10rem"}}),(0,b.jsx)(o.s,{body:function(e){return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(s.z,{icon:"pi pi-pencil",className:"p-button-rounded p-button-success mr-2",onClick:function(){return function(e){M((0,r.Z)({},e)),C(!0)}(e)}}),(0,b.jsx)(s.z,{icon:"pi pi-trash",className:"p-button-rounded p-button-warning",onClick:function(){return function(e){M(e),A(!0)}(e)}})]})},headerStyle:{minWidth:"10rem"}})]}),(0,b.jsxs)(u.V,{visible:S,style:{width:"450px"},header:"Product Details",modal:!0,className:"p-fluid",footer:pe,onHide:te,children:[B.image&&(0,b.jsx)("img",{src:"".concat("~","/demo/images/product/").concat(B.image),alt:B.image,width:"150",className:"mt-0 mx-auto mb-5 block shadow-2"}),(0,b.jsxs)("div",{className:"field",children:[(0,b.jsx)("label",{htmlFor:"name",children:"Name"}),(0,b.jsx)(p.o,{id:"name",value:B.name,onChange:function(e){return ue(e,"name")},required:!0,autoFocus:!0,className:(0,v.AK)({"p-invalid":H&&!B.name})}),H&&!B.name&&(0,b.jsx)("small",{className:"p-invalid",children:"Name is required."})]}),(0,b.jsxs)("div",{className:"field",children:[(0,b.jsx)("label",{htmlFor:"description",children:"Description"}),(0,b.jsx)(f.g,{id:"description",value:B.description,onChange:function(e){return ue(e,"description")},required:!0,rows:3,cols:20})]}),(0,b.jsxs)("div",{className:"field",children:[(0,b.jsx)("label",{className:"mb-3",children:"Category"}),(0,b.jsxs)("div",{className:"formgrid grid",children:[(0,b.jsxs)("div",{className:"field-radiobutton col-6",children:[(0,b.jsx)(m.E,{inputId:"category1",name:"category",value:"Accessories",onChange:ie,checked:"Accessories"===B.category}),(0,b.jsx)("label",{htmlFor:"category1",children:"Accessories"})]}),(0,b.jsxs)("div",{className:"field-radiobutton col-6",children:[(0,b.jsx)(m.E,{inputId:"category2",name:"category",value:"Clothing",onChange:ie,checked:"Clothing"===B.category}),(0,b.jsx)("label",{htmlFor:"category2",children:"Clothing"})]}),(0,b.jsxs)("div",{className:"field-radiobutton col-6",children:[(0,b.jsx)(m.E,{inputId:"category3",name:"category",value:"Electronics",onChange:ie,checked:"Electronics"===B.category}),(0,b.jsx)("label",{htmlFor:"category3",children:"Electronics"})]}),(0,b.jsxs)("div",{className:"field-radiobutton col-6",children:[(0,b.jsx)(m.E,{inputId:"category4",name:"category",value:"Fitness",onChange:ie,checked:"Fitness"===B.category}),(0,b.jsx)("label",{htmlFor:"category4",children:"Fitness"})]})]})]}),(0,b.jsxs)("div",{className:"formgrid grid",children:[(0,b.jsxs)("div",{className:"field col",children:[(0,b.jsx)("label",{htmlFor:"price",children:"Price"}),(0,b.jsx)(d.R,{id:"price",value:B.price,onValueChange:function(e){return le(e,"price")},mode:"currency",currency:"USD",locale:"en-US"})]}),(0,b.jsxs)("div",{className:"field col",children:[(0,b.jsx)("label",{htmlFor:"quantity",children:"Quantity"}),(0,b.jsx)(d.R,{id:"quantity",value:B.quantity,onValueChange:function(e){return le(e,"quantity")},integeronly:!0})]})]})]}),(0,b.jsx)(u.V,{visible:I,style:{width:"450px"},header:"Confirm",modal:!0,footer:fe,onHide:ne,children:(0,b.jsxs)("div",{className:"flex align-items-center justify-content-center",children:[(0,b.jsx)("i",{className:"pi pi-exclamation-triangle mr-3",style:{fontSize:"2rem"}}),B&&(0,b.jsxs)("span",{children:["Are you sure you want to delete ",(0,b.jsx)("b",{children:B.name}),"?"]})]})}),(0,b.jsx)(u.V,{visible:L,style:{width:"450px"},header:"Confirm",modal:!0,footer:me,onHide:re,children:(0,b.jsxs)("div",{className:"flex align-items-center justify-content-center",children:[(0,b.jsx)("i",{className:"pi pi-exclamation-triangle mr-3",style:{fontSize:"2rem"}}),B&&(0,b.jsx)("span",{children:"Are you sure you want to delete the selected products?"})]})})]})})})}},2516:function(e,t,n){n.d(t,{D:function(){return u}});var r=n(4165),a=n(5861),c=n(5671),s=n(3144),o=n(8290),i=n(7890),u=function(){function e(){(0,c.Z)(this,e)}return(0,s.Z)(e,[{key:"getDefaultItem",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={_default:{operator:i.pg.AND,constraints:[{value:!0,matchMode:i.a6.EQUALS}]}},e.next=3,this.getByFilters(t,n);case 3:return a=e.sent,console.log(a),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getById",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.ZP.get("/data/".concat(t,"/")+n);case 2:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getByFilters",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.ZP.get("/dataByParams/".concat(t,"?params=")+JSON.stringify(n));case 2:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n?Object.keys(n).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(n[e])})).join("&"):"",e.abrupt("return",o.ZP.get("/data/".concat(t,"?")+a).then((function(e){return e.data})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.ZP.post("/data/".concat(t),n);case 2:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n,a){var c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.ZP.put("/data/".concat(t,"/")+n,a);case 2:return c=e.sent,console.log(c.data),e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.ZP.delete("/data/".concat(t,"/")+n);case 2:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}()},3985:function(e,t,n){n.d(t,{M:function(){return p}});var r=n(4165),a=n(5861),c=n(5671),s=n(3144),o=n(8290),i=n(7890),u=n(2516),l=n(9565),d=n(9615),p=function(){function e(){(0,c.Z)(this,e),this.masterDataService=new u.D,this.transactionService=new l.p}return(0,s.Z)(e,[{key:"getById",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.ZP.get("/products/"+t);case 2:return n=e.sent,console.log(n.data),e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t?Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&"):"",e.abrupt("return",o.ZP.get("/products?"+n).then((function(e){return e.data})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.ZP.post("/products",t);case 2:return n=e.sent,console.log(n.data),e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.ZP.put("/products/"+t,n);case 2:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getProductCurrentStock",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={dtProduct_id:{operator:i.pg.AND,constraints:[{value:t,matchMode:i.a6.EQUALS}]}},e.next=3,this.masterDataService.getByFilters("dtStock",n);case 3:return a=e.sent,console.log(a),e.abrupt("return",a.currentStock);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addPackageToStock",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.transactionService.processTransaction(d.Hf,t);case 2:return n=e.sent,console.log(n),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getProductCustomerLastPrice",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={dtProduct_id:{operator:i.pg.AND,constraints:[{value:t,matchMode:i.a6.EQUALS}]},dtCustomer_id:{operator:i.pg.AND,constraints:[{value:n,matchMode:i.a6.EQUALS}]}},e.next=3,this.masterDataService.getByFilters("dtProductSalesCustomer",a);case 3:return c=e.sent,console.log(c),e.abrupt("return",c.lastTradePrice);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}()},9565:function(e,t,n){n.d(t,{p:function(){return i}});var r=n(4165),a=n(5861),c=n(5671),s=n(3144),o=n(8290),i=function(){function e(){(0,c.Z)(this,e)}return(0,s.Z)(e,[{key:"getById",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.ZP.get("/trxdata/".concat(t,"/").concat(n));case 2:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getLedgerByParty",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.ZP.get("/ledger/".concat(t));case 2:return n=e.sent,console.log(n.data),e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getLedgerByPartyId",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.ZP.get("/ledger/".concat(t,"/").concat(n));case 2:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n?Object.keys(n).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(n[e])})).join("&"):"",e.abrupt("return",o.ZP.get("/trxdata/".concat(t,"?")+a).then((function(e){return e.data})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"processTransaction",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.ZP.post("/transaction/".concat(t),n);case 2:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}()}}]);
//# sourceMappingURL=6419.3e5b41ec.chunk.js.map