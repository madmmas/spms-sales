"use strict";(self.webpackChunkspms_app=self.webpackChunkspms_app||[]).push([[764],{1811:function(e,t,r){r.d(t,{A5:function(){return B},CN:function(){return P},CZ:function(){return u},D:function(){return F},Eh:function(){return D},GB:function(){return T},H0:function(){return E},Hh:function(){return h},Hn:function(){return j},Id:function(){return g},Ik:function(){return S},LM:function(){return o},MU:function(){return n},Ni:function(){return f},Q4:function(){return A},R$:function(){return p},UR:function(){return v},VB:function(){return m},VC:function(){return i},W9:function(){return I},aA:function(){return N},aF:function(){return y},eQ:function(){return C},ev:function(){return x},fs:function(){return w},if:function(){return R},it:function(){return c},kj:function(){return d},q$:function(){return a},qI:function(){return Z},rV:function(){return k},s5:function(){return b},sf:function(){return s},sk:function(){return W},uG:function(){return L},vN:function(){return _},vY:function(){return l}});var n="dtBank",a="dtBankAccount",o="dtCash",u="dtCustomer",i="dtEmployee",c="dtEmploymentHistory",s="dtProduct",d="dtSupplier",l="dtWarehouse",f="dtStock",p="trxDamagedStock",m="trxStockAdjustment",h="trxExpense",y="trxExtraIncome",x="trxPurchase",g="trxSales",v="trxStockIn",b="trxStockOut",k="trxACReceivable",P="trxACPayable",Z="trxBankRegister",S="trxCashRegister",j="trxPayment",w="dtCustomerCategory",R="dtDepartment",C="dtDesignation",A="dtExpenseType",_="dtExtraIncomeType",T="dtGrade",F="dtGroup",B="dtProductBrand",N="dtProductModel",I="dtOfficeTime",W="dtPaymentType",L="dtProductCategory",E="dtRoute",D="dtSupplierCategory"},709:function(e,t,r){r.r(t);var n=r(1413),a=r(9439),o=r(2426),u=r(2791),i=r(7890),c=r(919),s=r(1063),d=r(2971),l=r(7580),f=r(9565),p=r(1811),m=r(184);t.default=function(){var e=p.Hn,t=(0,u.useRef)(null),r=(0,u.useRef)(null),h={fields:[],first:0,rows:10,page:1,sortField:null,sortOrder:null,filters:{name:{operator:i.pg.OR,constraints:[{value:null,matchMode:i.a6.STARTS_WITH}]}}},y=(0,u.useState)(!1),x=(0,a.Z)(y,2),g=x[0],v=x[1],b=(0,u.useState)(0),k=(0,a.Z)(b,2),P=k[0],Z=k[1],S=(0,u.useState)(null),j=(0,a.Z)(S,2),w=j[0],R=j[1],C=(0,u.useState)(h),A=(0,a.Z)(C,2),_=A[0],T=A[1],F=new f.p;(0,u.useEffect)((function(){N()}),[]);var B=function(){N()},N=function(){T(h)};(0,u.useEffect)((function(){I()}),[_]);var I=function(){v(!0),F.getAll(e,{params:JSON.stringify(_)}).then((function(e){console.log(e),Z(e.total),R(e.rows),v(!1)}))},W=function(){r.current.exportCSV()};return(0,m.jsx)("div",{className:"grid crud-demo",children:(0,m.jsx)("div",{className:"col-12",children:(0,m.jsxs)("div",{className:"card",children:[(0,m.jsx)(l.F,{ref:t}),(0,m.jsxs)(d.w,{ref:r,value:w,dataKey:"_id",className:"datatable-responsive",responsiveLayout:"scroll",lazy:!0,loading:g,rows:_.rows,onSort:function(e){var t=(0,n.Z)((0,n.Z)({},_),e);T(t)},sortField:_.sortField,sortOrder:_.sortOrder,onFilter:function(e){var t=(0,n.Z)((0,n.Z)({},_),e);t.first=0,T(t)},filters:_.filters,filterDisplay:"menu",scrollable:!0,columnResizeMode:"expand",resizableColumns:!0,showGridlines:!0,paginator:!0,totalRecords:P,onPage:function(e){var t=(0,n.Z)((0,n.Z)({},_),e);T(t)},first:_.first,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25,50],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} entries",emptyMessage:"No data found.",header:function(){return(0,m.jsxs)("div",{className:"flex justify-content-between",children:[(0,m.jsx)("h5",{className:"m-0",children:"Payment"}),(0,m.jsxs)("div",{className:"p-toolbar-group-right",children:[(0,m.jsx)(c.z,{type:"button",icon:"pi pi-filter-slash",label:"Refresh",className:"p-button-outlined",onClick:B}),(0,m.jsx)(c.z,{label:"Export",icon:"pi pi-upload",className:"p-button-help m-2",onClick:W})]})]})},children:[(0,m.jsx)(s.s,{field:"date",header:"Transaction Datetime",filter:!0,filterPlaceholder:"Search by name",sortable:!0,body:function(e){return(0,m.jsx)(m.Fragment,{children:(t=e.date,o(parseInt(t)).format("DD/MM/YYYY hh:mm:ss"))});var t},headerStyle:{minWidth:"15rem"}}),(0,m.jsx)(s.s,{field:"trxSales_id",header:"Sales Ref",filter:!0,filterPlaceholder:"Search by Sales Ref",sortable:!0,body:function(e){return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("a",{href:"#/transactional_data/sales/".concat(e.trxSales_id),children:e.trxSales_id})})},headerStyle:{minWidth:"15rem"}}),(0,m.jsx)(s.s,{field:"dtPaymentType_id",header:"Payment Type",filter:!0,filterPlaceholder:"Search by name",sortable:!0,body:function(e){return(0,m.jsx)(m.Fragment,{children:e.dtPaymentType_id})},headerStyle:{minWidth:"15rem"}}),(0,m.jsx)(s.s,{field:"dtBankAccount_id",header:"Bank Account",filter:!0,filterPlaceholder:"Search by name",sortable:!0,body:function(e){return(0,m.jsx)(m.Fragment,{children:e.dtBankAccount_id})},headerStyle:{minWidth:"15rem"}}),(0,m.jsx)(s.s,{field:"dueAmount",header:"dueAmount",filter:!0,filterPlaceholder:"Search by name",sortable:!0,body:function(e){return(0,m.jsx)(m.Fragment,{children:e.dueAmount})},headerStyle:{minWidth:"15rem"}}),(0,m.jsx)(s.s,{field:"paidAmount",header:"paidAmount",filter:!0,filterPlaceholder:"Search by name",sortable:!0,body:function(e){return(0,m.jsx)(m.Fragment,{children:e.paidAmount})},headerStyle:{minWidth:"15rem"}}),(0,m.jsx)(s.s,{field:"dtCustomer_id",header:"Customer Ref",filter:!0,filterPlaceholder:"Search by dtCustomer_id",sortable:!0,body:function(e){return(0,m.jsx)(m.Fragment,{children:e.dtCustomer_id})},headerStyle:{minWidth:"15rem"}}),(0,m.jsx)(s.s,{field:"paymentRef",header:"Payment Ref",filter:!0,filterPlaceholder:"Search by paymentRef",sortable:!0,body:function(e){return(0,m.jsx)(m.Fragment,{children:e.paymentRef})},headerStyle:{minWidth:"15rem"}}),(0,m.jsx)(s.s,{field:"paymentRemarks",header:"Payment Remarks",filter:!0,filterPlaceholder:"Search by paymentRemarks",sortable:!0,body:function(e){return(0,m.jsx)(m.Fragment,{children:e.paymentRemarks})},headerStyle:{minWidth:"15rem"}})]})]})})})}},9565:function(e,t,r){r.d(t,{p:function(){return c}});var n=r(4165),a=r(5861),o=r(5671),u=r(3144),i=r(8293),c=function(){function e(){(0,o.Z)(this,e)}return(0,u.Z)(e,[{key:"getById",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="/trxdata/".concat(t,"/")+r,e.next=3,i.ZP.get(a,{timeout:15e3,id:a,cache:{ttl:2e4}});case 3:return o=e.sent,console.log(o.data),e.abrupt("return",o.data);case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getLedgerByParty",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="/ledger/".concat(t),e.next=3,i.ZP.get(r,{timeout:15e3,id:r,cache:{ttl:2e4}});case 3:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getLedgerByPartyTypeAndId",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="/ledger/".concat(t,"/").concat(r),e.next=3,i.ZP.get(a,{timeout:15e3,id:a,cache:{ttl:2e4}});case 3:return o=e.sent,console.log(o.data),e.abrupt("return",o.data);case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getLedgerByPartyId",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="/ledger_by_id/".concat(t),e.next=3,i.ZP.get(r,{timeout:15e3,id:r,cache:{ttl:2e4}});case 3:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"bankToCash",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.ZP.post("/bank_cash/trxCashRegister",t);case 2:return r=e.sent,console.log(r.data),e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"cashToBank",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.ZP.post("/bank_cash/trxBankRegister",t);case 2:return r=e.sent,console.log(r.data),e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"commitPayment",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.ZP.post("/payment/".concat(t),r);case 2:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r?Object.keys(r).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(r[e])})).join("&"):"",o="/trxdata/".concat(t,"?")+a,e.abrupt("return",i.ZP.get(o,{timeout:15e3,id:o,cache:{ttl:2e4}}).then((function(e){return e.data})));case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"processTransaction",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.ZP.post("/transaction/".concat(t),r);case 2:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}()}}]);
//# sourceMappingURL=payment.966d704e.chunk.js.map