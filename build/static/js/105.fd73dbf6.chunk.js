"use strict";(self.webpackChunkspms_app=self.webpackChunkspms_app||[]).push([[105,3985],{105:function(e,t,r){r.r(t);var n=r(1413),a=r(9439),s=r(2791),c=r(7689),o=r(7890),u=r(919),i=r(1063),l=r(9856),p=r(2971),d=r(7580),f=r(8291),h=r(5854),m=r(3985),v=r(184);t.default=function(){var e=(0,c.s0)(),t=(0,s.useRef)(null),r=(0,s.useRef)(null),g={fields:["id","name","warehouse_id","code","bar_code","price","active"],first:0,rows:10,page:1,sortField:null,sortOrder:null,filters:{type:{operator:o.pg.AND,constraints:[{value:"PACKAGE",matchMode:o.a6.EQUALS}]}}},x=(0,s.useState)(!1),y=(0,a.Z)(x,2),Z=y[0],b=y[1],k=(0,s.useState)(0),w=(0,a.Z)(k,2),P=w[0],j=w[1],N=(0,s.useState)(null),S=(0,a.Z)(N,2),C=S[0],A=S[1],L=(0,s.useState)(!1),F=(0,a.Z)(L,2),_=F[0],E=F[1],R=(0,s.useState)(!1),z=(0,a.Z)(R,2),D=z[0],T=z[1],B=(0,s.useState)({}),I=(0,a.Z)(B,2),W=I[0],M=I[1],O=(0,s.useState)(null),Q=(0,a.Z)(O,2),U=Q[0],G=Q[1],J=(0,s.useState)(g),K=(0,a.Z)(J,2),V=K[0],H=K[1],X=new m.M;(0,s.useEffect)((function(){q()}),[]);var Y=function(){q()},q=function(){H(g)};(0,s.useEffect)((function(){$()}),[V]);var $=function(){b(!0),X.getAll(V).then((function(e){console.log(e),j(e.total),A(e.rows),b(!1)}))},ee=function(){r.current.exportCSV()},te=function(){e("/packages/new")},re=function(){E(!1)},ne=function(){T(!1)},ae=(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(u.z,{label:"No",icon:"pi pi-times",className:"p-button-text",onClick:re}),(0,v.jsx)(u.z,{label:"Yes",icon:"pi pi-check",className:"p-button-text",onClick:function(){}})]}),se=(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(u.z,{label:"No",icon:"pi pi-times",className:"p-button-text",onClick:ne}),(0,v.jsx)(u.z,{label:"Yes",icon:"pi pi-check",className:"p-button-text",onClick:function(){var e=C.filter((function(e){return!U.includes(e)}));A(e),T(!1),G(null),t.current.show({severity:"success",summary:"Successful",detail:"Profiles Deleted",life:3e3})}})]});return(0,v.jsx)("div",{className:"grid crud-demo",children:(0,v.jsx)("div",{className:"col-12",children:(0,v.jsxs)("div",{className:"card",children:[(0,v.jsx)(d.F,{ref:t}),(0,v.jsx)(f.o,{className:"mb-4",left:function(){return(0,v.jsx)(s.Fragment,{children:(0,v.jsx)("div",{className:"flex justify-content-between",children:(0,v.jsx)(u.z,{label:"New",icon:"pi pi-plus",className:"p-button-success mr-2",onClick:te})})})},right:function(){return(0,v.jsx)(s.Fragment,{children:(0,v.jsx)(u.z,{label:"Export",icon:"pi pi-upload",className:"p-button-help",onClick:ee})})}}),(0,v.jsxs)(p.w,{ref:r,value:C,dataKey:"id",className:"datatable-responsive",responsiveLayout:"scroll",lazy:!0,loading:Z,rows:V.rows,onSort:function(e){var t=(0,n.Z)((0,n.Z)({},V),e);H(t)},sortField:V.sortField,sortOrder:V.sortOrder,onFilter:function(e){var t=(0,n.Z)((0,n.Z)({},V),e);t.first=0,H(t)},filters:V.filters,filterDisplay:"menu",paginator:!0,totalRecords:P,onPage:function(e){var t=(0,n.Z)((0,n.Z)({},V),e);H(t)},first:V.first,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25,50],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} entries",emptyMessage:"No data found.",header:function(){return(0,v.jsxs)("div",{className:"flex justify-content-between",children:[(0,v.jsx)("h5",{className:"m-0",children:"Manage Packages"}),(0,v.jsx)(u.z,{type:"button",icon:"pi pi-filter-slash",label:"Clear",className:"p-button-outlined",onClick:Y})]})},children:[(0,v.jsx)(i.s,{body:function(t){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(u.z,{icon:"pi pi-pencil",className:"p-button-rounded p-button-success mr-2",onClick:function(){return function(t){e("/packages/"+t.id)}(t)}}),(0,v.jsx)(u.z,{icon:"pi pi-trash",className:"p-button-rounded p-button-warning",onClick:function(){return function(e){M(e),E(!0)}(t)}})]})},frozen:!0,headerStyle:{minWidth:"10rem"}}),(0,v.jsx)(i.s,{field:"name",header:"Name",filter:!0,filterPlaceholder:"Search by Name",sortable:!0,body:function(e){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("span",{className:"p-column-title",children:"Name"}),e.name]})},headerStyle:{minWidth:"15rem"}}),(0,v.jsx)(i.s,{field:"code",header:"Code",filter:!0,filterPlaceholder:"Search by Code",sortable:!0,body:function(e){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("span",{className:"p-column-title",children:"Code"}),e.code]})},headerStyle:{minWidth:"15rem"}}),(0,v.jsx)(i.s,{field:"low_stock_qty",header:"Low Stock Qty",filter:!0,filterPlaceholder:"Search by Qty",sortable:!0,body:function(e){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("span",{className:"p-column-title",children:"Low Stock Qty"}),e.lowStockQty||0]})},headerStyle:{minWidth:"15rem"}}),(0,v.jsx)(i.s,{field:"price",header:"Last Trade Price",filter:!0,filterPlaceholder:"Search by Last Purchase Price",sortable:!0,body:function(e){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("span",{className:"p-column-title",children:"Last Trade Price"}),e.price]})},headerStyle:{minWidth:"15rem"}}),(0,v.jsx)(i.s,{field:"warehouse_id",header:"Warehouse",filter:!0,filterPlaceholder:"Search by Warehouse",sortable:!0,body:function(e){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("span",{className:"p-column-title",children:"Warehouse"}),e.warehouse_name]})},headerStyle:{minWidth:"15rem"}}),(0,v.jsx)(i.s,{field:"active",header:"Status",filter:!0,filterPlaceholder:"Search by Status",sortable:!0,body:function(e){return(0,v.jsx)("i",{className:(0,h.AK)("pi",{"text-green-500 pi-check-circle":e.status,"text-red-500 pi-times-circle":!e.status})})},headerStyle:{minWidth:"15rem"}})]}),(0,v.jsx)(l.V,{visible:_,style:{width:"450px"},header:"Confirm",modal:!0,footer:ae,onHide:re,children:(0,v.jsxs)("div",{className:"flex align-items-center justify-content-center",children:[(0,v.jsx)("i",{className:"pi pi-exclamation-triangle mr-3",style:{fontSize:"2rem"}}),W&&(0,v.jsxs)("span",{children:["Are you sure you want to delete ",(0,v.jsx)("b",{children:W.packageId}),"?"]})]})}),(0,v.jsx)(l.V,{visible:D,style:{width:"450px"},header:"Confirm",modal:!0,footer:se,onHide:ne,children:(0,v.jsxs)("div",{className:"flex align-items-center justify-content-center",children:[(0,v.jsx)("i",{className:"pi pi-exclamation-triangle mr-3",style:{fontSize:"2rem"}}),W&&(0,v.jsx)("span",{children:"Are you sure you want to delete the selected items?"})]})})]})})})}},2516:function(e,t,r){r.d(t,{D:function(){return i}});var n=r(4165),a=r(5861),s=r(5671),c=r(3144),o=r(8293),u=r(7890),i=function(){function e(){(0,s.Z)(this,e)}return(0,c.Z)(e,[{key:"getDefaultItem",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={_default:{operator:u.pg.AND,constraints:[{value:!0,matchMode:u.a6.EQUALS}]}},e.next=3,this.getByFilters(t,r);case 3:return a=e.sent,console.log(a),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getById",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="/data/".concat(t,"/")+r,e.next=3,o.ZP.get(a,{timeout:15e3,id:a,cache:{ttl:2e4}});case 3:return s=e.sent,console.log(s.data),e.abrupt("return",s.data);case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getByFilters",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="/dataByParams/".concat(t,"?params=")+JSON.stringify(r),e.next=3,o.ZP.get(a,{timeout:15e3,id:a,cache:{ttl:2e4}});case 3:return s=e.sent,console.log(s.data),e.abrupt("return",s.data);case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r?Object.keys(r).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(r[e])})).join("&"):"",s="/data/".concat(t,"?")+a,e.abrupt("return",o.ZP.get(s,{timeout:15e3,id:s,cache:{ttl:2e4}}).then((function(e){return e.data})));case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.ZP.post("/data/".concat(t),r);case 2:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r,a){var s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.ZP.put("/data/".concat(t,"/")+r,a);case 2:return s=e.sent,console.log(s.data),e.abrupt("return",s.data);case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.ZP.delete("/data/".concat(t,"/")+r);case 2:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}()},3985:function(e,t,r){r.d(t,{M:function(){return d}});var n=r(4165),a=r(5861),s=r(5671),c=r(3144),o=r(8293),u=r(7890),i=r(2516),l=r(9565),p=r(8173),d=function(){function e(){(0,s.Z)(this,e),this.masterDataService=new i.D,this.transactionService=new l.p}return(0,c.Z)(e,[{key:"getById",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="/products/".concat(t),e.next=3,o.ZP.get(r,{timeout:15e3,id:r,cache:{ttl:2e4}});case 3:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),r=t?t.rows:1e3,a=t?t.first:0,console.log(r,a),e.next=6,p.Z.getAllProducts(r,a);case 6:return s=e.sent,console.log(s),e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.ZP.post("/products",t);case 2:return r=e.sent,console.log(r.data),e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.ZP.put("/products/"+t,r);case 2:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getProductCurrentStock",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.ZP.get("/products/"+t,{timeout:15e3,id:"/products/"+t,cache:{ttl:2e4}});case 2:return r=e.sent,console.log(r.data),e.abrupt("return",r.data.current_stock);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"addPackageToStock",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.ZP.post("/products/stock/"+t,r);case 2:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getProductCustomerLastPrice",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={dtProduct_id:{operator:u.pg.AND,constraints:[{value:t,matchMode:u.a6.EQUALS}]},dtCustomer_id:{operator:u.pg.AND,constraints:[{value:r,matchMode:u.a6.EQUALS}]}},e.next=3,this.masterDataService.getByFilters("dtProductSalesCustomer",a);case 3:return s=e.sent,console.log(s),e.abrupt("return",s.lastTradePrice);case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}()},9565:function(e,t,r){r.d(t,{p:function(){return u}});var n=r(4165),a=r(5861),s=r(5671),c=r(3144),o=r(8293),u=function(){function e(){(0,s.Z)(this,e)}return(0,c.Z)(e,[{key:"getById",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="/trxdata/".concat(t,"/")+r,e.next=3,o.ZP.get(a,{timeout:15e3,id:a,cache:{ttl:2e4}});case 3:return s=e.sent,console.log(s.data),e.abrupt("return",s.data);case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getLedgerByParty",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="/ledger/".concat(t),e.next=3,o.ZP.get(r,{timeout:15e3,id:r,cache:{ttl:2e4}});case 3:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getLedgerByPartyTypeAndId",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="/ledger/".concat(t,"/").concat(r),e.next=3,o.ZP.get(a,{timeout:15e3,id:a,cache:{ttl:2e4}});case 3:return s=e.sent,console.log(s.data),e.abrupt("return",s.data);case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getLedgerByPartyId",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="/ledger_by_id/".concat(t),e.next=3,o.ZP.get(r,{timeout:15e3,id:r,cache:{ttl:2e4}});case 3:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"bankToCash",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.ZP.post("/bank_cash/trxCashRegister",t);case 2:return r=e.sent,console.log(r.data),e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"cashToBank",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.ZP.post("/bank_cash/trxBankRegister",t);case 2:return r=e.sent,console.log(r.data),e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"commitPayment",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.ZP.post("/payment/".concat(t),r);case 2:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r?Object.keys(r).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(r[e])})).join("&"):"",s="/trxdata/".concat(t,"?")+a,e.abrupt("return",o.ZP.get(s,{timeout:15e3,id:s,cache:{ttl:2e4}}).then((function(e){return e.data})));case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"processTransaction",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.ZP.post("/transaction/".concat(t),r);case 2:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}()},8291:function(e,t,r){r.d(t,{o:function(){return u}});var n=r(2791),a=r(5854),s=r(5388),c=r(7890),o=s.V.extend({defaultProps:{__TYPE:"Toolbar",id:null,style:null,className:null,left:null,right:null,start:null,center:null,end:null,children:void 0}}),u=n.memo(n.forwardRef((function(e,t){var r=n.useContext(c.Ou),s=o.getProps(e,r),u=n.useRef(null),i=a.gb.getJSXElement(s.left||s.start,s),l=a.gb.getJSXElement(s.center,s),p=a.gb.getJSXElement(s.right||s.end,s),d=o.setMetaData({props:s}).ptm;n.useImperativeHandle(t,(function(){return{props:s,getElement:function(){return u.current}}}));var f=(0,a.dG)({className:"p-toolbar-group-start p-toolbar-group-left"},d("start")),h=(0,a.dG)({className:"p-toolbar-group-center"},d("center")),m=(0,a.dG)({className:"p-toolbar-group-end p-toolbar-group-right"},d("end")),v=(0,a.dG)({id:s.id,ref:u,style:s.style,className:(0,a.AK)("p-toolbar p-component",s.className),role:"toolbar"},o.getOtherProps(s),d("root"));return n.createElement("div",v,n.createElement("div",f,i),n.createElement("div",h,l),n.createElement("div",m,p))})));u.displayName="Toolbar"}}]);
//# sourceMappingURL=105.fd73dbf6.chunk.js.map