"use strict";(self.webpackChunkspms_app=self.webpackChunkspms_app||[]).push([[402],{1811:function(e,t,n){n.d(t,{CN:function(){return j},CZ:function(){return u},D:function(){return R},Eh:function(){return T},GB:function(){return I},H0:function(){return W},Hh:function(){return h},Hn:function(){return w},Id:function(){return v},Ik:function(){return S},K$:function(){return Z},LM:function(){return o},MU:function(){return r},Ni:function(){return f},Q4:function(){return F},R$:function(){return p},UR:function(){return g},VB:function(){return m},VC:function(){return s},W9:function(){return D},aF:function(){return x},eQ:function(){return N},ev:function(){return y},fs:function(){return P},if:function(){return C},it:function(){return c},kj:function(){return l},q$:function(){return a},qI:function(){return k},s5:function(){return b},sf:function(){return i},sk:function(){return Y},uG:function(){return A},vN:function(){return _},vY:function(){return d}});var r="dtBank",a="dtBankAccount",o="dtCash",u="dtCustomer",s="dtEmployee",c="dtEmploymentHistory",i="dtProduct",l="dtSupplier",d="dtWarehouse",f="dtStock",p="trxDamagedStock",m="trxStockAdjustment",h="trxExpense",x="trxExtraIncome",y="trxPurchase",v="trxSales",g="trxStockIn",b="trxStockOut",Z="trxACRecievable",j="trxACPayable",k="trxBankRegister",S="trxCashRegister",w="trxPayment",P="dtCustomerCategory",C="dtDepartment",N="dtDesignation",F="dtExpenseType",_="dtExtraIncomeType",I="dtGrade",R="dtGroup",D="dtOfficeTime",Y="dtPaymentType",A="dtProductCategory",W="dtRoute",T="dtSupplierCategory"},402:function(e,t,n){n.r(t);var r=n(1413),a=n(4165),o=n(5861),u=n(9439),s=(n(2426),n(2791)),c=n(4457),i=n(7689),l=n(7890),d=n(919),f=n(1063),p=n(4286),m=n(7145),h=n(3428),x=n(7580),y=n(8291),v=n(5512),g=n(8998),b=n(1811),Z=n(184);t.default=function(){var e=b.Id,t=(0,i.s0)(),n=(0,s.useRef)(null),j=(0,s.useRef)(null),k={fields:["created_at","party_id","customer_category","customer_name","customer_phone","gross","transport","duty_vat","net"],first:0,rows:10,page:1,sortField:null,sortOrder:null,filters:{name:{operator:l.pg.OR,constraints:[{value:null,matchMode:l.a6.STARTS_WITH}]}}},S=(0,s.useState)(!1),w=(0,u.Z)(S,2),P=w[0],C=w[1],N=(0,s.useState)(0),F=(0,u.Z)(N,2),_=F[0],I=F[1],R=(0,s.useState)(null),D=(0,u.Z)(R,2),Y=D[0],A=D[1],W=(0,s.useState)(!1),T=(0,u.Z)(W,2),E=T[0],z=T[1],M=(0,s.useState)(!1),O=(0,u.Z)(M,2),V=O[0],B=O[1],L=(0,s.useState)({}),H=(0,u.Z)(L,2),U=H[0],G=H[1],$=(0,s.useState)(null),q=(0,u.Z)($,2),K=q[0],Q=q[1],J=(0,s.useState)(k),X=(0,u.Z)(J,2),ee=X[0],te=X[1],ne=new v.E,re=new g.p;(0,s.useEffect)((function(){oe()}),[]);var ae=function(){oe()},oe=function(){te(k)};(0,s.useEffect)((function(){ue()}),[ee]);var ue=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.next=3,re.getAll(b.Id,{params:JSON.stringify(ee)}).then((function(e){console.log(e),I(e.total),A(e.rows),C(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){j.current.exportCSV()},ce=function(){t("/sales/new")},ie=function(){z(!1)},le=function(){B(!1)},de=(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(d.z,{label:"No",icon:"pi pi-times",className:"p-button-text",onClick:ie}),(0,Z.jsx)(d.z,{label:"Yes",icon:"pi pi-check",className:"p-button-text",onClick:function(){ne.delete(e,U.id).then((function(e){console.log(e),ue(),n.current.show({severity:"success",summary:"Successful",detail:"Sales Profile Deleted",life:3e3})})),z(!1),G(null)}})]}),fe=(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(d.z,{label:"No",icon:"pi pi-times",className:"p-button-text",onClick:le}),(0,Z.jsx)(d.z,{label:"Yes",icon:"pi pi-check",className:"p-button-text",onClick:function(){var e=Y.filter((function(e){return!K.includes(e)}));A(e),B(!1),Q(null),n.current.show({severity:"success",summary:"Successful",detail:"Profiles Deleted",life:3e3})}})]});return(0,Z.jsx)("div",{className:"grid crud-demo",children:(0,Z.jsx)("div",{className:"col-12",children:(0,Z.jsxs)("div",{className:"card",children:[(0,Z.jsx)(x.F,{ref:n}),(0,Z.jsx)(y.o,{className:"mb-4",left:function(){return(0,Z.jsx)(s.Fragment,{children:(0,Z.jsx)("div",{className:"flex justify-content-between",children:(0,Z.jsx)(d.z,{label:"New",icon:"pi pi-plus",className:"p-button-success mr-2",onClick:ce})})})},right:function(){return(0,Z.jsx)(s.Fragment,{children:(0,Z.jsx)(d.z,{label:"Export",icon:"pi pi-upload",className:"p-button-help",onClick:se})})}}),(0,Z.jsxs)(m.w,{ref:j,value:Y,dataKey:"id",className:"datatable-responsive",responsiveLayout:"scroll",lazy:!0,loading:P,rows:ee.rows,onSort:function(e){var t=(0,r.Z)((0,r.Z)({},ee),e);te(t)},sortField:ee.sortField,sortOrder:ee.sortOrder,onFilter:function(e){var t=(0,r.Z)((0,r.Z)({},ee),e);t.first=0,te(t)},filters:ee.filters,filterDisplay:"menu",paginator:!0,totalRecords:_,onPage:function(e){var t=(0,r.Z)((0,r.Z)({},ee),e);te(t)},first:ee.first,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25,50],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} entries",emptyMessage:"No data found.",header:function(){return(0,Z.jsxs)("div",{className:"flex justify-content-between",children:[(0,Z.jsx)("h5",{className:"m-0",children:"Manage Sales"}),(0,Z.jsx)(d.z,{type:"button",icon:"pi pi-filter-slash",label:"Clear",className:"p-button-outlined",onClick:ae})]})},children:[(0,Z.jsx)(f.s,{body:function(e){return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)(d.z,{icon:"pi pi-pencil",className:"p-button-rounded p-button-success mr-2",onClick:function(){return function(e){t("/sales/"+e.id)}(e)}})})},headerStyle:{minWidth:"10rem"}}),(0,Z.jsx)(f.s,{field:"voucher_no",header:"Voucher No",filter:!0,filterPlaceholder:"Search by voucher no",sortable:!0,body:function(e){return(0,Z.jsx)(Z.Fragment,{children:e.voucher_no})},headerStyle:{minWidth:"10rem"}}),(0,Z.jsx)(f.s,{field:"status",header:"Status",filter:!0,filterPlaceholder:"Search by status",sortable:!0,body:function(e){return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)(h.V,{severity:"warning",value:e.status})})},headerStyle:{minWidth:"10rem"}}),(0,Z.jsx)(f.s,{field:"created_at",header:"Sales Date",filter:!0,filterPlaceholder:"Search by ID",sortable:!0,body:function(e){return(0,Z.jsx)(Z.Fragment,{children:(0,c._3)(e.created_at)})},headerStyle:{minWidth:"15rem"}}),(0,Z.jsx)(f.s,{field:"customer_category",header:"Customer Category",filter:!0,filterPlaceholder:"Search by name",sortable:!0,body:function(e){return(0,Z.jsx)(Z.Fragment,{children:e.customer_category})},headerStyle:{minWidth:"15rem"}}),(0,Z.jsx)(f.s,{field:"customer_name",header:"Customer Name",filter:!0,filterPlaceholder:"Search by name",sortable:!0,body:function(e){return(0,Z.jsx)(Z.Fragment,{children:e.customer_name})},headerStyle:{minWidth:"15rem"}}),(0,Z.jsx)(f.s,{field:"gross",header:"Total Price",filter:!0,filterPlaceholder:"Search by gross",sortable:!0,body:function(e){return(0,Z.jsx)(Z.Fragment,{children:e.gross})},headerStyle:{minWidth:"15rem"}}),(0,Z.jsx)(f.s,{field:"discount",header:"Total Discount",filter:!0,filterPlaceholder:"Search by discount",sortable:!0,body:function(e){return(0,Z.jsx)(Z.Fragment,{children:e.discount})},headerStyle:{minWidth:"15rem"}}),(0,Z.jsx)(f.s,{field:"transport",header:"Delivery Cost",filter:!0,filterPlaceholder:"Search by transport",sortable:!0,body:function(e){return(0,Z.jsx)(Z.Fragment,{children:e.transport})},headerStyle:{minWidth:"15rem"}}),(0,Z.jsx)(f.s,{field:"duty_vat",header:"VAT",filter:!0,filterPlaceholder:"Search by Vat Amount",sortable:!0,body:function(e){return(0,Z.jsx)(Z.Fragment,{children:e.duty_vat})},headerStyle:{minWidth:"15rem"}}),(0,Z.jsx)(f.s,{field:"net",header:"Net Amount",filter:!0,filterPlaceholder:"Search by Net Amount",sortable:!0,body:function(e){return(0,Z.jsx)(Z.Fragment,{children:e.net})},headerStyle:{minWidth:"15rem"}})]}),(0,Z.jsx)(p.V,{visible:E,style:{width:"450px"},header:"Confirm",modal:!0,footer:de,onHide:ie,children:(0,Z.jsxs)("div",{className:"flex align-items-center justify-content-center",children:[(0,Z.jsx)("i",{className:"pi pi-exclamation-triangle mr-3",style:{fontSize:"2rem"}}),U&&(0,Z.jsxs)("span",{children:["Are you sure you want to delete ",(0,Z.jsx)("b",{children:U.saleId}),"?"]})]})}),(0,Z.jsx)(p.V,{visible:V,style:{width:"450px"},header:"Confirm",modal:!0,footer:fe,onHide:le,children:(0,Z.jsxs)("div",{className:"flex align-items-center justify-content-center",children:[(0,Z.jsx)("i",{className:"pi pi-exclamation-triangle mr-3",style:{fontSize:"2rem"}}),U&&(0,Z.jsx)("span",{children:"Are you sure you want to delete the selected items?"})]})})]})})})}},5512:function(e,t,n){n.d(t,{E:function(){return c}});var r=n(4165),a=n(5861),o=n(5671),u=n(3144),s=n(8290),c=function(){function e(){(0,o.Z)(this,e)}return(0,u.Z)(e,[{key:"getById",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.ZP.get("/data/".concat(t,"/")+n);case 2:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n?Object.keys(n).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(n[e])})).join("&"):"",e.abrupt("return",s.ZP.get("/data/".concat(t,"?")+a).then((function(e){return e.data})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.ZP.post("/data/".concat(t),n);case 2:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n,a){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.ZP.put("/data/".concat(t,"/")+n,a);case 2:return o=e.sent,console.log(o.data),e.abrupt("return",o.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.ZP.delete("/data/".concat(t,"/")+n);case 2:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}()},8998:function(e,t,n){n.d(t,{p:function(){return c}});var r=n(4165),a=n(5861),o=n(5671),u=n(3144),s=n(8290),c=function(){function e(){(0,o.Z)(this,e)}return(0,u.Z)(e,[{key:"getById",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.ZP.get("/orders/".concat(t,"/").concat(n));case 2:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n?Object.keys(n).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(n[e])})).join("&"):"",e.abrupt("return",s.ZP.get("/orders/".concat(t,"?")+a).then((function(e){return e.data})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.ZP.post("/orders/".concat(t),n);case 2:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n,a){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.ZP.put("/orders/".concat(t,"/")+n,a);case 2:return o=e.sent,console.log(o.data),e.abrupt("return",o.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"commit",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n,a){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.ZP.patch("/orders/".concat(t,"/")+n,a);case 2:return o=e.sent,console.log(o.data),e.abrupt("return",o.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"return",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n,a){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.ZP.post("/orders/".concat(t,"/returns/")+n,a);case 2:return o=e.sent,console.log(o.data),e.abrupt("return",o.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()}]),e}()},4457:function(e,t,n){n.d(t,{Bu:function(){return s},Gw:function(){return u},OT:function(){return a},_3:function(){return o}});var r=n(2426),a=function(e){return r(e).format("DD/MM/YYYY")},o=function(e){return r(parseInt(e)).format("DD/MM/YYYY")},u=function(e){return r(parseInt(e)).format("DD/MM/YYYY hh:mm:ss")},s=function(e,t){var n=t.find((function(t){return t.id===e}));return n?n.name:""}}}]);
//# sourceMappingURL=402.a3a8c5e8.chunk.js.map